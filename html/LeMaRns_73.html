<div class="container">

<table style="width: 100%;"><tr>
<td>get_indicators</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate indicators</h2>

<h3>Description</h3>

<p>Calculates Mean Maximum Length (MML), the Large Fish Indicator (LFI), Typical Length (TyL) and Length Quantiles (LQ) of the whole community or a subset of the species.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_indicators(inputs, outputs, ...)

## S4 method for signature 'LeMans_param,LeMans_outputs'
get_indicators(
  inputs,
  outputs,
  species = 1:dim(outputs@N)[2],
  time_steps = 1:dim(outputs@N)[3],
  prob = 0.5,
  length_LFI = 40
)

## S4 method for signature 'LeMans_param,missing'
get_indicators(
  inputs,
  N,
  species = 1:dim(N)[2],
  time_steps = 1:dim(N)[3],
  prob = 0.5,
  length_LFI = 40
)

## S4 method for signature 'missing,LeMans_outputs'
get_indicators(
  wgt,
  mid,
  l_bound,
  u_bound,
  Linf,
  outputs,
  species = 1:dim(outputs@N)[2],
  time_steps = 1:dim(outputs@N)[3],
  species_names = NULL,
  prob = 0.5,
  length_LFI = 40
)

## S4 method for signature 'missing,missing'
get_indicators(
  wgt,
  mid,
  l_bound,
  u_bound,
  Linf,
  N,
  species = 1:dim(N)[2],
  time_steps = 1:dim(N)[3],
  species_names = NULL,
  prob = 0.5,
  length_LFI = 40
)

get_LFI(inputs, outputs, ...)

## S4 method for signature 'LeMans_param,LeMans_outputs'
get_LFI(
  inputs,
  outputs,
  species = 1:dim(outputs@N)[2],
  time_steps = 1:dim(outputs@N)[3],
  length_LFI = 40
)

## S4 method for signature 'LeMans_param,missing'
get_LFI(
  inputs,
  N,
  species = 1:dim(N)[2],
  time_steps = 1:dim(N)[3],
  length_LFI = 40
)

## S4 method for signature 'missing,LeMans_outputs'
get_LFI(
  wgt,
  l_bound,
  u_bound,
  outputs,
  species = 1:dim(outputs@N)[2],
  time_steps = 1:dim(outputs@N)[3],
  species_names = NULL,
  length_LFI = 40
)

## S4 method for signature 'missing,missing'
get_LFI(
  wgt,
  l_bound,
  u_bound,
  N,
  species = 1:dim(N)[2],
  time_steps = 1:dim(N)[3],
  species_names = NULL,
  length_LFI = 40
)

get_MML(inputs, outputs, ...)

## S4 method for signature 'LeMans_param,LeMans_outputs'
get_MML(
  inputs,
  outputs,
  species = 1:dim(outputs@N)[2],
  time_steps = 1:dim(outputs@N)[3]
)

## S4 method for signature 'LeMans_param,missing'
get_MML(inputs, N, species = 1:dim(N)[2], time_steps = 1:dim(N)[3])

## S4 method for signature 'missing,LeMans_outputs'
get_MML(
  wgt,
  Linf,
  outputs,
  species = 1:dim(outputs@N)[2],
  time_steps = 1:dim(outputs@N)[3],
  species_names = NULL
)

## S4 method for signature 'missing,missing'
get_MML(
  wgt,
  Linf,
  N,
  species = 1:dim(N)[2],
  time_steps = 1:dim(N)[3],
  species_names = NULL
)

get_TyL(inputs, outputs, ...)

## S4 method for signature 'LeMans_param,LeMans_outputs'
get_TyL(
  inputs,
  outputs,
  species = 1:dim(outputs@N)[2],
  time_steps = 1:dim(outputs@N)[3]
)

## S4 method for signature 'LeMans_param,missing'
get_TyL(inputs, N, species = 1:dim(N)[2], time_steps = 1:dim(N)[3])

## S4 method for signature 'missing,LeMans_outputs'
get_TyL(
  wgt,
  mid,
  outputs,
  species = 1:dim(outputs@N)[2],
  time_steps = 1:dim(outputs@N)[3],
  species_names = NULL
)

## S4 method for signature 'missing,missing'
get_TyL(
  wgt,
  mid,
  N,
  species = 1:dim(N)[2],
  time_steps = 1:dim(N)[3],
  species_names = NULL
)

get_LQ(inputs, outputs, ...)

## S4 method for signature 'LeMans_param,LeMans_outputs'
get_LQ(
  inputs,
  outputs,
  species = 1:dim(outputs@N)[2],
  time_steps = 1:dim(outputs@N)[3],
  prob = 0.5
)

## S4 method for signature 'LeMans_param,missing'
get_LQ(inputs, N, species = 1:dim(N)[2], time_steps = 1:dim(N)[3], prob = 0.5)

## S4 method for signature 'missing,LeMans_outputs'
get_LQ(
  wgt,
  u_bound,
  outputs,
  species = 1:dim(outputs@N)[2],
  time_steps = 1:dim(outputs@N)[3],
  species_names = NULL,
  prob = 0.5
)

## S4 method for signature 'missing,missing'
get_LQ(
  wgt,
  u_bound,
  N,
  species = 1:dim(N)[2],
  time_steps = 1:dim(N)[3],
  species_names = NULL,
  prob = 0.5
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>inputs</code></td>
<td>
<p>A <code>LeMans_param</code> object containing the parameter values of the current LeMans model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outputs</code></td>
<td>
<p>A <code>LeMans_outputs</code> object containing the outputs of the model run.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>species</code></td>
<td>
<p>A numeric value or vector or a character string representing the species that you wish to use to calculate the indicators. The default is <code>1:dim(N)[2]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_steps</code></td>
<td>
<p>A numeric vector of the time steps that you wish to use to calculate the indicators. The default is <code>1:dim(N)[3]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob</code></td>
<td>
<p>A numeric value or vector between 0 and 1 denoting the length quantiles to be calculated. The default is <code>0.5</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>length_LFI</code></td>
<td>
<p>A numeric vector representing the thresholds to be used to calculate the LFI. The default value is <code>40</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>An array with dimensions <code>nsc</code>, <code>nfish</code> and <code>tot_time</code> representing the number of individuals in each length class for each time step.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wgt</code></td>
<td>
<p>A matrix with dimensions <code>nsc</code> and <code>nfish</code> representing the weight of each species in each length class.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mid</code></td>
<td>
<p>A numeric vector of length <code>nfish</code> representing the mid-point of the length classes in the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>l_bound</code></td>
<td>
<p>A numeric vector of length <code>nsc</code> representing the lower bounds of the length classes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>u_bound</code></td>
<td>
<p>A numeric vector of length <code>nsc</code> representing the upper bounds of the length classes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Linf</code></td>
<td>
<p>A numeric vector of length <code>nfish</code> representing the asymptotic length of each species.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>species_names</code></td>
<td>
<p>A character vector of length <code>nfish</code> that denotes the names of the species in the model.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The LFI represents the proportion of biomass with a length larger than <code>length_LFI</code>. The MML is the biomass weighted mean of <code>Linf</code>:
</p>
<p><code>sum(biomass[species]*Linf[species])/sum(biomass[species])</code>
</p>
<p>where <code>biomass</code> is a numeric vector of length <code>nfish</code> representing the biomass of each species. TyL is the biomass-weighted geometric mean length of the community:
</p>
<p><code>exp(sum(biomass_*log(mid))/sum(Bio_l))</code>
</p>
<p>where <code>biomass_</code> is a numeric vector of length <code>nsc</code> representing the biomass of all the species in each length class. The LQ is the length at which the biomass exceeds a given proportion <code>prob</code> of the total biomass.
</p>


<h3>Value</h3>

<p><code>get_indicators</code> returns a list object with names 'LFI', 'MML', 'TYL' and 'LQ'. If <code>length(length_LFI)&gt;1</code>, 'LFI' is a matrix with dimensions <code>length(time_steps)</code> by <code>length(length_LFI)</code> where the <code>i,j</code>th element represents the LFI using the <code>j</code>th <code>length_LFI</code> in the <code>i</code>th <code>time_steps</code>. If <code>length(length_LFI)==1</code>, the function will return a numeric vector of length <code>length(time_steps)</code>. 'MML' is a numeric vector of length <code>time_steps</code> where each element is the MML for the species in <code>species</code>. 'TYL' is a numeric vector of length <code>time_steps</code> where each element is the TyL for the species in <code>species</code>. If <code>length(prob)==1</code>, 'LQ' is a matrix with dimensions <code>length(time_steps)</code> by <code>length(prob)</code> where the <code>i,j</code>th element is the LQ using the<code>j</code>th <code>prob</code> in the <code>i</code>th <code>time_steps</code>. If <code>length(prob)==1</code>, the function will return a numeric vector of length <code>length(time_steps)</code>.
</p>
<p>If <code>length(length_LFI)==1</code>, <code>get_LFI</code> returns a matrix with dimensions <code>length(time_steps)</code> by <code>length(length_LFI)</code> where the <code>i,j</code>th element is the LFI using the <code>j</code>th <code>length_LFI</code> in the <code>i</code>th <code>time_steps</code>. If <code>length(length_LFI)==1</code>, the function will return a numeric vector of length <code>length(time_steps)</code>.
</p>
<p><code>get_MML</code> returns a numeric vector of length <code>time_steps</code> where each element is the MML for the species in <code>species</code>.
</p>
<p>If <code>length(prob)&gt;1</code>, <code>get_LQ</code> returns a matrix with dimensions <code>length(time_steps)</code> and <code>length(prob)</code> where the <code>i,j</code>th element is the LQ using the the <code>j</code>th <code>prob</code> in the <code>i</code>th <code>time_steps</code>. If <code>length(prob)==1</code>, the function will return a numeric vector of length <code>length(time_steps)</code>.
</p>


<h3>See Also</h3>

<p><code>plot_indicators</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Set up and run the model
NS_params &lt;- LeMansParam(NS_par, tau=NS_tau, eta=rep(0.25, 21), L50=NS_par$Lmat, other=1e12)
effort &lt;- matrix(0.5, 10, dim(NS_params@Qs)[3])
model_run &lt;- run_LeMans(NS_params, years=10, effort=effort)

# Calculate the indicators
get_indicators(inputs=NS_params, outputs=model_run)

# Calculate the LFI
get_LFI(inputs=NS_params, outputs=model_run)

# Calculate MML
get_MML(inputs=NS_params, outputs=model_run)

# Calculate TyL
get_TyL(inputs=NS_params, outputs=model_run)

# Calculate LQs
get_LQ(inputs=NS_params, outputs=model_run)
</code></pre>


</div>
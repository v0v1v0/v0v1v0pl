<div class="container">

<table style="width: 100%;"><tr>
<td>test</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Test a condition</h2>

<h3>Description</h3>

<p>Evaluate or compare an expression based on a reference expression, or test for errors.
The comparison of expression values is done using <code>base::all.equal()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">test(
  key = "test",
  x,
  y = TRUE,
  error = FALSE,
  warning = FALSE,
  runOnly = FALSE,
  text = "",
  onFail = c("fail", "warn", "ignore", "skip"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>key</code></td>
<td>
<p>Identifier for the test condition.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>The expression to test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>The reference value or expression.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>error</code></td>
<td>
<p>Whether to expect an error, or the pattern that the error message should match.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>warning</code></td>
<td>
<p>Whether to expect a warning, or the pattern that the warning message should match.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>runOnly</code></td>
<td>
<p>Whether to skip the comparison to <code>y</code>. If disabled, an error is raised when <code>y</code> is not <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text</code></td>
<td>
<p>Human-readable description of what this test condition is testing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>onFail</code></td>
<td>
<p>How to handle a failure of the test condition. By default, this is recorded as a test failure.
If <code>onFail = "skip"</code>, the condition is not tested.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed to <code>base::all.equal()</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Inspired by the <code>data.table</code> package test mechanism.
The original motivation for this function is the lack of R support for a proper stack trace with line numbers when sourcing files,
which made it practically impossible to identify the offending line in a sourced file.
</p>


<h3>Value</h3>

<p>Whether the test condition has passed successfully. In case of <code>onFail = "skip"</code>, <code>NA</code> is returned.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
test('gt', 2 &gt; 1)
test('eq', 1 + 1, 2)
test('lt', 2 &lt; 1, onFail = "warn")

## End(Not run)
</code></pre>


</div>
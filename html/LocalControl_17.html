<div class="container">

<table style="width: 100%;"><tr>
<td>SPSlogit</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Propensity Score prediction of Treatment Selection from Patient Baseline X-covariates</h2>

<h3>Description</h3>

<p>Use a logistic regression model to predict Treatment Selection from Patient
Baseline X-covariates in Supervised Propensity Scoring.
</p>


<h3>Usage</h3>

<pre><code class="language-R">SPSlogit(envir, dframe, form, pfit, prnk, qbin, bins = 5, appn = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>envir</code></td>
<td>
<p>name of the working local control classic environment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dframe</code></td>
<td>
<p>data.frame containing X, t and Y variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>form</code></td>
<td>
<p>Valid formula for glm()with family = binomial(), with the two-level treatment
factor variable as the left-hand-side of the formula.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pfit</code></td>
<td>
<p>Name of variable to store PS predictions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prnk</code></td>
<td>
<p>Name of variable to store tied-ranks of PS predictions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>qbin</code></td>
<td>
<p>Name of variable to store the assigned bin number for each patient.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bins</code></td>
<td>
<p>optional; number of adjacent PS bins desired; default to 5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>appn</code></td>
<td>
<p>optional; append the pfit, prank and qbin variables to the input dfname when
appn=="", else save augmented data.frame to name specified within a non-blank appn string.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The first phase of Supervised Propensity Scoring is to develop a logit (or probit) model
predicting treatment choice from patient baseline X characteristics.  SPSlogit uses a call to
glm()with family = binomial() to fit a logistic regression.
</p>


<h3>Value</h3>

<p>An output list object of class SPSlogit:
</p>

<dl>
<dt>dframe</dt>
<dd>
<p>Name of input data.frame containing X, t &amp; Y variables.</p>
</dd>
<dt>dfoutnam</dt>
<dd>
<p>Name of output data.frame augmented by pfit, prank and qbin variables.</p>
</dd>
<dt>trtm</dt>
<dd>
<p>Name of two-level treatment factor variable.</p>
</dd>
<dt>form</dt>
<dd>
<p>glm() formula for logistic regression.</p>
</dd>
<dt>pfit</dt>
<dd>
<p>Name of predicted PS variable.</p>
</dd>
<dt>prank</dt>
<dd>
<p>Name of variable containing PS tied-ranks.</p>
</dd>
<dt>qbin</dt>
<dd>
<p>Name of variable containing assigned PS bin number for each patient.</p>
</dd>
<dt>bins</dt>
<dd>
<p>Number of adjacent PS bins desired.</p>
</dd>
<dt>glmobj</dt>
<dd>
<p>Output object from invocation of glm() with family = binomial().</p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>Bob Obenchain &lt;wizbob@att.net&gt;
</p>


<h3>References</h3>


<ul>
<li>
<p> Cochran WG. (1968) The effectiveness of adjustment by subclassification
in removing bias in observational studies. <em>Biometrics</em> <b>24</b>:
205-213.
</p>
</li>
<li>
<p> Kereiakes DJ, Obenchain RL, Barber BL, et al. (2000) Abciximab provides
cost effective survival advantage in high volume interventional practice.
<em>Am Heart J</em> <b>140</b>: 603-610.
</p>
</li>
<li>
<p> Obenchain RL. (2011) <b>USPSinR.pdf</b>  USPS R-package vignette, 40 pages.
</p>
</li>
<li>
<p> Rosenbaum PR, Rubin RB. (1983) The Central Role of the Propensity Score
in Observational Studies for Causal Effects. <em>Biometrika</em> <b>70</b>:
41-55.
</p>
</li>
<li>
<p> Rosenbaum PR, Rubin DB. (1984) Reducing Bias in Observational Studies
Using Subclassification on a Propensity Score. <em>J Amer Stat Assoc</em>
<b>79</b>: 516-524.
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>SPSbalan</code>, <code>SPSnbins</code> and <code>SPSoutco</code>.
</p>


</div>
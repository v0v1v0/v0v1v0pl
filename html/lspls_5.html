<div class="container">

<table style="width: 100%;"><tr>
<td>lsplsCv</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Cross-Validate LS-PLS Models</h2>

<h3>Description</h3>

<p>Calculate cross-validated predictions for LS-PLS models.
</p>


<h3>Usage</h3>

<pre><code class="language-R">lsplsCv(formula, ncomp, data, subset, na.action, segments = 10,
        segment.type = c("random", "consecutive", "interleaved"),
        length.seg, model = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>model formula.  See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncomp</code></td>
<td>
<p>list or vector of positive integers, giving the
number of components to use for each PLS matrix.  See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>an optional data frame with the data to fit the model from.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>an optional vector specifying a subset of observations to be
used in the fitting process.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.action</code></td>
<td>
<p>a function which indicates what should happen when
the data contain missing values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>segments</code></td>
<td>
<p>the number of segments to use, or a list with segments (see
Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>segment.type</code></td>
<td>
<p>the type of segments to use.  Ignored if
<code>segments</code> is a list.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>length.seg</code></td>
<td>
<p>Positive integer.  The length of the segments to
use.  If specified, it overrides <code>segments</code> unless
<code>segments</code> is a list.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>logical.  If <code>TRUE</code>, the model frame is returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments, passed to the underlying
cross-validation function (currently <code>orthlsplsCv</code>).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function performs a cross-validation, using the model and segments
specified in the call.  It returns an object of class
<code>"lsplsCv"</code>, which has a plot method (see
<code>plot.lsplsCv</code>).  See lspls-package for typical
usage and more about LS-PLS models.
</p>
<p>See <code>lspls</code> for details about specifying the model
with <code>formula</code> and <code>ncomp</code>.  Note that <code>lsplsCv</code>
cross-validates models with from 0 components to the numbers of
components specified with <code>ncomp</code>.
</p>
<p>If <code>segments</code> is a list, the arguments <code>segment.type</code> and
<code>length.seg</code> are ignored.  The elements of the list should be
integer vectors specifying the indices of the segments.  See
<code>cvsegments</code> for details.
</p>
<p>Otherwise, segments of type <code>segment.type</code> are generated.  How
many segments to generate is selected by specifying the number of
segments in <code>segments</code>, or giving the segment length in
<code>length.seg</code>.  If both are specified, <code>segments</code> is
ignored.
</p>


<h3>Value</h3>

<p>An object of class <code>"lsplsCv"</code>, with components
</p>
<table>
<tr style="vertical-align: top;">
<td><code>pred</code></td>
<td>
<p>the cross-validated predictions.  An array with one
dimension for the observations, one for the responses, and one for
each of the PLS matrices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>segments</code></td>
<td>
<p>the list of segments used in the cross-validation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.action</code></td>
<td>
<p>if observations with missing values were removed,
<code>na.action</code> contains a vector with their indices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncomp</code></td>
<td>
<p>the list of number of components used in the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>the function call.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>terms</code></td>
<td>
<p>the model terms.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>if <code>model = TRUE</code>, the model frame.</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>Currently, <code>lsplsCv</code> handles the formula and the data, and calls
<code>orthlsplsCv</code> for the actual cross-validation.  The
formula interface is experimental, and might change in future versions.  
</p>


<h3>Author(s)</h3>

<p>Bjørn-Helge Mevik</p>


<h3>References</h3>

<p>Jørgensen, K., Segtnan, V. H., Thyholt, K., Næs, T. (2004)  A
Comparison of Methods for Analysing Regression Models with Both
Spectral and Designed Variables.
<em>Journal of Chemometrics</em>, <b>18</b>(10), 451–464.
</p>
<p>Jørgensen, K., Mevik, B.-H., Næs, T.  Combining Designed Experiments
with Several Blocks of Spectroscopic Data.
(Submitted)
</p>
<p>Mevik, B.-H., Jørgensen, K., Måge, I., Næs, T.  LS-PLS: Combining
Categorical Design Variables with Blocks of Spectroscopic
Measurements.
(Submitted)
</p>


<h3>See Also</h3>

<p><code>lspls</code>, <code>plot.lsplsCv</code>,
<code>cvsegments</code>, <code>orthlsplsCv</code>,
lspls-package</p>


<h3>Examples</h3>

<pre><code class="language-R">##FIXME
</code></pre>


</div>
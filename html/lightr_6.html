<div class="container">

<table style="width: 100%;"><tr>
<td>lr_get_metadata</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract metadata from spectra files</h2>

<h3>Description</h3>

<p>Finds and imports metadata from spectra files in a given location.
</p>


<h3>Usage</h3>

<pre><code class="language-R">lr_get_metadata(
  where = getwd(),
  ext = "ProcSpec",
  sep = NULL,
  subdir = FALSE,
  subdir.names = FALSE,
  ignore.case = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>where</code></td>
<td>
<p>Folder in which files are located (defaults to current working
directory).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ext</code></td>
<td>
<p>File extension to be searched for, without the "." (defaults to
<code>txt</code>). You can also use a character vector to specify multiple file
extensions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sep</code></td>
<td>
<p>Column delimiting characters to be considered in addition to the
default (which are: tab, space, and ";")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subdir</code></td>
<td>
<p>Should subdirectories within the <code>where</code> folder be included in
the search? (defaults to <code>FALSE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subdir.names</code></td>
<td>
<p>Should subdirectory path be included in the name of the
spectra? (defaults to <code>FALSE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ignore.case</code></td>
<td>
<p>Should the extension search be case insensitive? (defaults
to <code>TRUE</code>)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>You can customise the type of parallel processing used by this function with
the <code>future::plan()</code> function. This works on all operating systems, as well
as high performance computing (HPC) environment. Similarly, you can customise
the way progress is shown with the <code>progressr::handlers()</code> functions
(progress bar, acoustic feedback, nothing, etc.)
</p>


<h3>Value</h3>

<p>A data.frame containing one file per row and the following columns:
</p>

<ul>
<li> <p><code>name</code>: File name (without the extension)
</p>
</li>
<li> <p><code>user</code>: Name of the spectrometer operator
</p>
</li>
<li> <p><code>datetime</code>: Timestamp of the recording (ISO 8601 format)
</p>
</li>
<li> <p><code>spec_model</code>: Model of the spectrometer
</p>
</li>
<li> <p><code>spec_ID</code>: Unique ID of the spectrometer
</p>
</li>
<li> <p><code>white_inttime</code>: Integration time of the white reference (in ms)
</p>
</li>
<li> <p><code>dark_inttime</code>: Integration time of the dark reference (in ms)
</p>
</li>
<li> <p><code>sample_inttime</code>: Integration time of the sample (in ms)
</p>
</li>
<li> <p><code>white_avgs</code>: Number of averaged measurements for the white reference
</p>
</li>
<li> <p><code>dark_avgs</code>: Number of averaged measurements for the dark reference
</p>
</li>
<li> <p><code>sample_avgs</code>: Number of averaged measurements for the sample
</p>
</li>
<li> <p><code>white_boxcar</code>: Boxcar width for the white reference
</p>
</li>
<li> <p><code>dark_boxcar</code>: Boxcar width for the dark reference
</p>
</li>
<li> <p><code>sample_boxcar</code>: Boxcar width for the sample reference
</p>
</li>
</ul>
<h3>Warning</h3>

<p><code>white_inttime</code>, <code>dark_inttime</code> and <code>sample_inttime</code> should be equal. The
normalised data may be inaccurate otherwise.
</p>


<h3>References</h3>

<p>White TE, Dalrymple RL, Noble DWA, O'Hanlon JC, Zurek DB,
Umbers KDL. Reproducible research in the study of biological coloration.
Animal Behaviour. 2015 Aug 1;106:51-7 (<a href="https://doi.org/10.1016/j.anbehav.2015.05.007">doi:10.1016/j.anbehav.2015.05.007</a>).
</p>


<h3>Examples</h3>

<pre><code class="language-R">
lr_get_metadata(system.file("testdata", "procspec_files",
                            package = "lightr"),
                ext = "ProcSpec")

</code></pre>


</div>
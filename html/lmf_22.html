<div class="container">

<table style="width: 100%;"><tr>
<td>projection</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
The projection matrix
</h2>

<h3>Description</h3>

<p>Estimates the components of the projection matrix and constructs the matrix
given data on fecundity and survival in a age-structured population.
</p>


<h3>Usage</h3>

<pre><code class="language-R">procomp(a, uage)
promat(pc, nage)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>

<p>a data set with fecundity and survival of individuals with known age over
several years. Each individual can be represented once a year.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>uage</code></td>
<td>

<p>the unique age classes in the data set.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pc</code></td>
<td>

<p>a matrix with columns age, fecundity and survival, i.e. the output from
running the function <code>procomp</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nage</code></td>
<td>

<p>the number of unique age classes in the data set.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function was made for internal use in <code>lmf</code>, but can be applied as a
standalone.
</p>
<p>The data set needs to contain the columns recruits (number of female offspring),
survival (1 if the individual survives to the next reproductive event and
0 if it dies) and age.
</p>
<p>The contruction of the projection matrix is divided into two functions for ease
of storing and handling the estimates.
</p>


<h3>Value</h3>

<p><code>procomp</code> returns a matrix with the components of the projection matrix having
columns age, fecundity and survival, while <code>promat</code> takes the output from
<code>procomp</code> and returns the projection matrix.
</p>


<h3>Author(s)</h3>

<p>Thomas Kvalnes
</p>


<h3>References</h3>

<p>Caswell, H. 2000. Matrix Population Models, 2nd edn. Sinauer, Sunderland,
Massachusetts.
Engen, S., Saether, B.-E., Kvalnes, T. and Jensen, H. 2012. Estimating fluctuating
selection in age-structured populations. Journal of Evolutionary Biology, 25, 1487-1499.
</p>


<h3>See Also</h3>

<p><code>eigenl</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">#Data set from Engen et al. 2012
data(sparrowdata)
#The uniue age classes
unique.age &lt;- unique(sparrowdata$age)
#Estimate the components of the projection matrix
projection.components &lt;- procomp(a = sparrowdata, uage = unique.age)
#View components
projection.components
#Set up the projection matrix
promat(pc = projection.components, nage = length(unique.age))
</code></pre>


</div>
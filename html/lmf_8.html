<div class="container">

<table style="width: 100%;"><tr>
<td>lm.extract</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Extract linear regression components
</h2>

<h3>Description</h3>

<p><code>lm.extract</code> fit a linear model and extract coefficients,
unscaled covariance matrix, residual variance, fitted values, residuals, degrees of freedom, and
leverage and cook's distance for each data point.
</p>


<h3>Usage</h3>

<pre><code class="language-R">lm.extract(formula, data, na.action = na.exclude)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>

<p>an object of class "formula" (or one that can be coerced to that class): a
symbolic description of the model to be fitted on the format <code>response ~ terms</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>a data set containing the variables in the model.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.action</code></td>
<td>

<p>a function which indicate what should happend when the data contain NAs. The
default is <code>na.exclude</code> (see <code>?na.fail</code>).
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>lm.extract</code> works through calls to <code>lm</code>,  <code>residuals</code>, <code>predict</code>,
<code>df.residuals</code>, <code>deviance</code>, <code>vcov</code>, <code>lm.influence</code> and <code>cooks.distance</code>.
Consult these functions for further details. The function was written for internal
use with <code>lmf</code>, but can be executed as a standalone.
</p>


<h3>Value</h3>

<p><code>lm.extract</code> returns a list containing the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>ajt</code></td>
<td>
<p>a named vector of coefficients</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>res</code></td>
<td>
<p>the residuals</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>the fitted values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dof</code></td>
<td>
<p>the degrees of freedom</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigma.djt</code></td>
<td>
<p>the residual standard error</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Ajt.us</code></td>
<td>
<p>a named unscaled variance-covariance matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>leverage</code></td>
<td>
<p>the estimated leverage for each data point. I.e. a vector
containing the diagonal of the 'hat' matrix (see <code>lm.influence?</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cook</code></td>
<td>
<p>the estimated Cook's distance for each data point (see <code>cooks.distance?</code>)</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Thomas Kvalnes
</p>


<h3>See Also</h3>

<p><code>lm</code>, <code>summary.lm</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">#Simulated data
xx &lt;- rnorm(n = 100, mean = 10, sd = 2)
yy &lt;- xx + 10 + rnorm(n = 100, 0, 2)
#Extract linear model components
extract &lt;- lm.extract(formula = yy ~ xx, data = data.frame(xx = xx, yy = yy))
str(extract)
#Plot the xx-yy relation
plot(xx, yy)
abline(a = extract$ajt[1], b = extract$ajt[2])
</code></pre>


</div>
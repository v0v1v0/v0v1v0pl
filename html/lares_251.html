<div class="container">

<table style="width: 100%;"><tr>
<td>tree_var</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Recursive Partitioning and Regression Trees</h2>

<h3>Description</h3>

<p>Fit and plot a <code>rpart</code> model for exploratory purposes using
<code>rpart</code> and <code>rpart.plot</code> libraries.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tree_var(
  df,
  y,
  type = 2,
  max = 3,
  min = 20,
  cp = 0,
  ohse = TRUE,
  plot = TRUE,
  explain = TRUE,
  title = NA,
  subtitle = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>Data frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Variable or Character. Name of the dependent variable or response.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>

<p>Type of plot. Possible values:
</p>
<p><b>0</b> Draw a split label at each split
and a node label at each leaf.
</p>
<p><b>1</b> Label all nodes, not just leaves.
Similar to <code>text.rpart</code>'s <code>all=TRUE</code>.
</p>
<p><b>2</b> Default.
Like <code>1</code> but draw the split labels below the node labels.
Similar to the plots in the CART book.
</p>
<p><b>3</b> Draw separate split labels for the left and right directions.
</p>
<p><b>4</b> Like <code>3</code> but label all nodes, not just leaves.
Similar to <code>text.rpart</code>'s <code>fancy=TRUE</code>.
See also <code>clip.right.labs</code>.<br></p>
<p><b>5</b> Show the split variable name in the interior nodes.<br></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max</code></td>
<td>
<p>Integer. Maximal depth of the tree.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min</code></td>
<td>
<p>Integer. The minimum number of observations that must
exist in a node in order for a split to be attempted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cp</code></td>
<td>

<p>complexity parameter.  Any split that does not decrease the overall
lack of fit by a factor of <code>cp</code> is not attempted.  For instance,
with <code>anova</code> splitting, this means that the overall R-squared must
increase by <code>cp</code> at each step. The main role of this parameter
is to save computing time by pruning off splits that are obviously
not worthwhile. Essentially,the user informs the program that any
split which does not improve the fit by <code>cp</code> will likely be
pruned off by cross-validation, and that hence the program need
not pursue it.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ohse</code></td>
<td>
<p>Boolean. Auto generate One Hot Smart Encoding?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>Boolean. Return a plot? If not, <code>rpart</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>explain</code></td>
<td>
<p>Boolean. Include a brief explanation on the bottom
part of the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title, subtitle</code></td>
<td>
<p>Character. Title and subtitle to include in plot.
Set to <code>NULL</code> to ignore.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional parameters passed to <code>rpart.plot()</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>(Invisible) list type 'tree_var' with plot (function), model,
predictions, performance metrics, and interpret auxiliary text.
</p>


<h3>See Also</h3>

<p>Other Exploratory: 
<code>corr_cross()</code>,
<code>corr_var()</code>,
<code>crosstab()</code>,
<code>df_str()</code>,
<code>distr()</code>,
<code>freqs()</code>,
<code>freqs_df()</code>,
<code>freqs_list()</code>,
<code>freqs_plot()</code>,
<code>lasso_vars()</code>,
<code>missingness()</code>,
<code>plot_cats()</code>,
<code>plot_df()</code>,
<code>plot_nums()</code>
</p>
<p>Other Visualization: 
<code>distr()</code>,
<code>freqs()</code>,
<code>freqs_df()</code>,
<code>freqs_list()</code>,
<code>freqs_plot()</code>,
<code>noPlot()</code>,
<code>plot_chord()</code>,
<code>plot_survey()</code>,
<code>plot_timeline()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(dft)
# Regression Tree
tree &lt;- tree_var(dft, Fare, subtitle = "Titanic dataset")
tree$plot() # tree plot
tree$model # rpart model object
tree$performance # metrics
# Binary Tree
tree_var(dft, Survived_TRUE, explain = FALSE, cex = 0.8)$plot()
# Multiclass tree
tree_var(dft[, c("Pclass", "Fare", "Age")], Pclass, ohse = FALSE)$plot()
</code></pre>


</div>
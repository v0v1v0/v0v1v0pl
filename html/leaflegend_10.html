<div class="container">

<table style="width: 100%;"><tr>
<td>legendSymbols</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add a legend for the sizing of symbols or the width of lines</h2>

<h3>Description</h3>

<p>Add a legend for the sizing of symbols or the width of lines
</p>


<h3>Usage</h3>

<pre><code class="language-R">addLegendSize(
  map,
  pal,
  values,
  title = NULL,
  labelStyle = "",
  shape = "rect",
  orientation = c("vertical", "horizontal"),
  color,
  fillColor = color,
  strokeWidth = 1,
  opacity = 1,
  fillOpacity = opacity,
  breaks = 5,
  baseSize = 20,
  numberFormat = function(x) {
     prettyNum(x, big.mark = ",", scientific = FALSE,
    digits = 1)
 },
  group = NULL,
  className = "info legend leaflet-control",
  stacked = FALSE,
  data = leaflet::getMapData(map),
  ...
)

addLegendLine(
  map,
  pal,
  values,
  title = NULL,
  labelStyle = "",
  orientation = c("vertical", "horizontal"),
  width = 20,
  color,
  opacity = 1,
  fillOpacity = opacity,
  breaks = 5,
  baseSize = 10,
  numberFormat = function(x) {
     prettyNum(x, big.mark = ",", scientific = FALSE,
    digits = 1)
 },
  group = NULL,
  className = "info legend leaflet-control",
  data = leaflet::getMapData(map),
  ...
)

addLegendSymbol(
  map,
  pal,
  values,
  title = NULL,
  labelStyle = "",
  shape,
  orientation = c("vertical", "horizontal"),
  color,
  fillColor = color,
  strokeWidth = 1,
  opacity = 1,
  fillOpacity = opacity,
  width = 20,
  height = width,
  group = NULL,
  className = "info legend leaflet-control",
  dashArray = NULL,
  data = leaflet::getMapData(map),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>map</code></td>
<td>
<p>a map widget object created from 'leaflet'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pal</code></td>
<td>
<p>the color palette function, generated from colorNumeric</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>values</code></td>
<td>
<p>the values used to generate sizes and if colorValues is not specified and
pal is given, then the values are used to generate  colors from the palette
function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>the legend title, pass in HTML to style</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labelStyle</code></td>
<td>
<p>character string of style argument for HTML text</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shape</code></td>
<td>
<p>the desired shape of the symbol, See availableShapes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>orientation</code></td>
<td>
<p>stack the legend items vertically or horizontally</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>the color of the legend symbols, if omitted pal is used</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fillColor</code></td>
<td>
<p>fill color of symbol</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strokeWidth</code></td>
<td>
<p>width of symbol outline</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>opacity</code></td>
<td>
<p>opacity of the legend items</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fillOpacity</code></td>
<td>
<p>fill opacity of the legend items</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>breaks</code></td>
<td>
<p>an integer specifying the number of breaks or a numeric vector of the breaks</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>baseSize</code></td>
<td>
<p>re-scaling size in pixels of the mean of the values, the average value will
be this exact size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numberFormat</code></td>
<td>
<p>formatting functions for numbers that are displayed e.g. format, prettyNum</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>group name of a leaflet layer group</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>className</code></td>
<td>
<p>extra CSS class to append to the control, space separated</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stacked</code></td>
<td>
<p>If <code>TRUE</code>, symbols are overlayed onto each other for a more compact
size legend</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data object. Currently supported objects are matrices, data
frames, spatial objects from the <span class="pkg">sp</span> package
(<code>SpatialPoints</code>, <code>SpatialPointsDataFrame</code>, <code>Polygon</code>,
<code>Polygons</code>, <code>SpatialPolygons</code>, <code>SpatialPolygonsDataFrame</code>,
<code>Line</code>, <code>Lines</code>, <code>SpatialLines</code>, and
<code>SpatialLinesDataFrame</code>), and
spatial data frames from the <span class="pkg">sf</span> package.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments to pass to
</p>
<p>addControl for addLegendSize
</p>
<p>pretty for sizeBreaks
</p>
<p>makeSymbol for makeSymbolsSize</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>width in pixels of the lines</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>height</code></td>
<td>
<p>in pixels</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dashArray</code></td>
<td>
<p>a string or vector/list of strings that defines the stroke dash pattern</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>an object from addControl
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(leaflet)
data("quakes")
quakes &lt;- quakes[1:100,]
numPal &lt;- colorNumeric('viridis', quakes$depth)
sizes &lt;- sizeNumeric(quakes$depth, baseSize = 10)
symbols &lt;- Map(
  makeSymbol,
  shape = 'triangle',
  color = numPal(quakes$depth),
  width = sizes,
  height = sizes
)
leaflet() %&gt;%
  addTiles() %&gt;%
  addMarkers(data = quakes,
             icon = icons(iconUrl = symbols),
             lat = ~lat, lng = ~long) %&gt;%
  addLegendSize(
    values = quakes$depth,
    pal = numPal,
    title = 'Depth',
    labelStyle = 'margin: auto;',
    shape = c('triangle'),
    orientation = c('vertical', 'horizontal'),
    opacity = .7,
    breaks = 5)

# a wrapper for making icons is provided
sizeSymbols &lt;-
makeSymbolsSize(
  quakes$depth,
  shape = 'cross',
  fillColor = numPal(quakes$depth),
  color = 'black',
  strokeWidth = 1,
  opacity = .8,
  fillOpacity = .5,
  baseSize = 20
)
leaflet() %&gt;%
  addTiles() %&gt;%
  addMarkers(data = quakes,
             icon = sizeSymbols,
             lat = ~lat, lng = ~long) %&gt;%
  addLegendSize(
    values = quakes$depth,
    pal = numPal,
    title = 'Depth',
    shape = 'cross',
    orientation = 'horizontal',
    strokeWidth = 1,
    opacity = .8,
    fillOpacity = .5,
    color = 'black',
    baseSize = 20,
    breaks = 5)

# Group layers control
leaflet() %&gt;%
  addTiles() %&gt;%
    addLegendSize(
      values = quakes$depth,
      pal = numPal,
      title = 'Depth',
      labelStyle = 'margin: auto;',
      shape = c('triangle'),
      orientation = c('vertical', 'horizontal'),
      opacity = .7,
      breaks = 5,
      group = 'Depth') %&gt;%
    addLayersControl(overlayGroups = c('Depth'))

# Polyline Legend for Size
baseSize &lt;- 10
lineColor &lt;- '#00000080'
pal &lt;- colorNumeric('Reds', atlStorms2005$MinPress)
leaflet() %&gt;%
  addTiles() %&gt;%
  addPolylines(data = atlStorms2005,
               weight = ~sizeNumeric(values = MaxWind, baseSize = baseSize),
               color = ~pal(MinPress),
               popup = ~as.character(MaxWind)) %&gt;%
  addLegendLine(values = atlStorms2005$MaxWind,
                title = 'MaxWind',
                baseSize = baseSize,
                width = 50,
                color = lineColor) %&gt;%
  addLegendNumeric(pal = pal,
                   title = 'MinPress',
                   values = atlStorms2005$MinPress)

# Stacked Legends
leaflet(quakes) %&gt;%
addTiles() %&gt;%
  addSymbolsSize(values = ~10^(mag),
    lat = ~lat,
    lng = ~long,
    shape = 'circle',
    color = 'black',
    fillColor = 'red',
    opacity = 1,
    baseSize = 5) |&gt;
  addLegendSize(
    values = ~10^(mag),
    title = 'Magnitude',
    baseSize = 5,
    shape = 'circle',
    color = 'black',
    fillColor = 'red',
    labelStyle = 'font-size: 18px;',
    position = 'bottomleft',
    stacked = TRUE,
    breaks = 5)
</code></pre>


</div>
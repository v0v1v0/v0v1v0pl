<div class="container">

<table style="width: 100%;"><tr>
<td>compose</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Composition of Fuzzy Relations</h2>

<h3>Description</h3>

<p>Composition of Fuzzy Relations
</p>


<h3>Usage</h3>

<pre><code class="language-R">compose(
  x,
  y,
  e = NULL,
  alg = c("goedel", "goguen", "lukasiewicz"),
  type = c("basic", "sub", "super", "square"),
  quantifier = NULL,
  sorting = sort
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A first fuzzy relation to be composed. It must be a numeric matrix
with values within the <code class="reqn">[0,1]</code> interval. The number of columns must
match with the number of rows of the <code>y</code> matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>A second fuzzy relation to be composed. It must be a numeric matrix
with values within the <code class="reqn">[0,1]</code> interval. The number of columns must
match with the number of rows of the <code>x</code> matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>e</code></td>
<td>
<p>Deprecated. An excluding fuzzy relation. If not NULL,
it must be a numeric matrix with dimensions equal to the <code>y</code> matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alg</code></td>
<td>
<p>An algebra to be used for composition. It must be one of
<code>'goedel'</code> (default), <code>'goguen'</code>, or <code>'lukasiewicz'</code>, or an instance of class <code>algebra</code>
(see <code>algebra()</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>A type of a composition to be performed. It must be one of
<code>'basic'</code> (default), <code>'sub'</code>, <code>'super'</code>, or <code>'square'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quantifier</code></td>
<td>
<p>Deprecated. If not NULL, it must be a function taking a single
argument, a vector of relative cardinalities, that would be translated into
membership degrees. A result of the <code>lingexpr()</code> function is a
good candidate for that. Note that the vector of relative cardinalities contains also
two attributes, <code>x</code> and <code>y</code>, which carry the original <code>R</code>'s data row (in <code>x</code>) and <code>S</code>'s
feature column (in <code>y</code>). These attributes are accessible using the standard <code>base::attr()</code>
function. Find examples below that define some quantifiers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sorting</code></td>
<td>
<p>Deprecated. Sorting function used within quantifier application. The given function
must sort the membership degrees and allow the <code>decreasing</code> argument as in <code>base::sort()</code>.
This function have to be explicitly specified typically if performing compositions that
handle <code>NA</code> values.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Function composes a fuzzy relation <code>x</code> (i.e. a numeric matrix of size
<code class="reqn">(u,v)</code>) with a fuzzy relation <code>y</code> (i.e. a numeric matrix of size
<code class="reqn">(v,w)</code>) and possibly with the deprecated use of an exclusion fuzzy relation
<code>e</code> (i.e. a numeric matrix of size <code class="reqn">(v,w)</code>).
</p>
<p>The style of composition is determined by the algebra <code>alg</code>, the
composition type <code>type</code>, and possibly also by a deprecated <code>quantifier</code>.
</p>
<p>This function performs four main composition types, the basic composition (
also known as direct product), the Bandler-Kohout subproduct (also subdirect
product), the Bandler-Kohout superproduct (also supdirect product), and finally,
the Bandler-Kohout square product. More complicated composition operations
may be performed by using the <code>mult()</code> function and/or by combining multiple
composition results with the <code>algebra()</code> operations.
</p>


<h3>Value</h3>

<p>A matrix with <code class="reqn">v</code> rows and <code class="reqn">w</code> columns, where <code class="reqn">v</code> is the
number of rows of <code>x</code> and <code class="reqn">w</code> is the number of columns of <code>y</code>.
</p>


<h3>Author(s)</h3>

<p>Michal Burda
</p>


<h3>See Also</h3>

<p>[algebra(), <code>mult()</code>, <code>lingexpr()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">    R &lt;- matrix(c(0.1, 0.6, 1, 0, 0, 0,
                  0, 0.3, 0.7, 0.9, 1, 1,
                  0, 0, 0.6, 0.8, 1, 0,
                  0, 1, 0.5, 0, 0, 0,
                  0, 0, 1, 1, 0, 0), byrow=TRUE, nrow=5)

    S &lt;- matrix(c(0.9, 1, 0.9, 1,
                  1, 1, 1, 1,
                  0.1, 0.2, 0, 0.2,
                  0, 0, 0, 0,
                  0.7, 0.6, 0.5, 0.4,
                  1, 0.9, 0.7, 0.6), byrow=TRUE, nrow=6)

    RS &lt;- matrix(c(0.6, 0.6, 0.6, 0.6,
                   1, 0.9, 0.7, 0.6,
                   0.7, 0.6, 0.5, 0.4,
                   1, 1, 1, 1,
                   0.1, 0.2, 0, 0.2), byrow=TRUE, nrow=5)

    compose(R, S, alg='goedel', type='basic') # should be equal to RS
</code></pre>


</div>
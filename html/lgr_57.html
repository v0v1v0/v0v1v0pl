<div class="container">

<table style="width: 100%;"><tr>
<td>LayoutFormat</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Format Log Events as Text</h2>

<h3>Description</h3>

<p>Format Log Events as Text
</p>
<p>Format Log Events as Text
</p>


<h3>Details</h3>

<p>Format a LogEvent as human readable text using <code>format.LogEvent()</code>, which
provides a quick and easy way to customize log messages. If you need
more control and flexibility, consider using LayoutGlue instead.
</p>
<p>see Fields
</p>
<p>see Fields
</p>
<p>see Fields
</p>
<p>see Fields
</p>
<p>Convert Layout to a <code>character</code> string
Read a log file written using LayoutFormat
</p>


<h3>Format Tokens</h3>

<p>This is the same list of format tokens as for <code>format.LogEvent()</code>
</p>

<dl>
<dt><code style="white-space: pre;">⁠%t⁠</code></dt>
<dd>
<p>The timestamp of the message, formatted according to
<code>timestamp_fmt</code>)</p>
</dd>
<dt><code style="white-space: pre;">⁠%l⁠</code></dt>
<dd>
<p>the log level, lowercase <code>character</code> representation</p>
</dd>
<dt><code style="white-space: pre;">⁠%L⁠</code></dt>
<dd>
<p>the log level, uppercase <code>character</code> representation</p>
</dd>
<dt><code style="white-space: pre;">⁠%k⁠</code></dt>
<dd>
<p>the log level, first letter of lowercase <code>character</code> representation</p>
</dd>
<dt><code style="white-space: pre;">⁠%K⁠</code></dt>
<dd>
<p>the log level, first letter of uppercase <code>character</code> representation</p>
</dd>
<dt><code style="white-space: pre;">⁠%n⁠</code></dt>
<dd>
<p>the log level, <code>integer</code> representation</p>
</dd>
<dt><code style="white-space: pre;">⁠%g⁠</code></dt>
<dd>
<p>the name of the logger</p>
</dd>
<dt><code style="white-space: pre;">⁠%p⁠</code></dt>
<dd>
<p>the PID (process ID). Useful when logging code that uses
multiple threads.</p>
</dd>
<dt><code style="white-space: pre;">⁠%c⁠</code></dt>
<dd>
<p>the calling function</p>
</dd>
<dt><code style="white-space: pre;">⁠%m⁠</code></dt>
<dd>
<p>the log message</p>
</dd>
<dt><code style="white-space: pre;">⁠%f⁠</code></dt>
<dd>
<p>all custom fields of <code>x</code> in a pseudo-JSON like format that is
optimized for human readability and console output</p>
</dd>
<dt><code style="white-space: pre;">⁠%j⁠</code></dt>
<dd>
<p>all custom fields of <code>x</code> in proper JSON. This requires that you
have <strong>jsonlite</strong> installed and does not support colors as opposed to
<code style="white-space: pre;">⁠%f⁠</code>
</p>
</dd>
</dl>
<h3>Super class</h3>

<p><code>lgr::Layout</code> -&gt; <code>LayoutFormat</code>
</p>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>fmt</code></dt>
<dd>
<p>a <code>character</code> scalar containing format tokens. See <code>format.LogEvent()</code>.</p>
</dd>
<dt><code>timestamp_fmt</code></dt>
<dd>
<p>a <code>character</code> scalar. See <code>base::format.POSIXct()</code>.</p>
</dd>
<dt><code>colors</code></dt>
<dd>
<p>a named <code>list</code> of functions (like the ones provided by
the package <span class="pkg">crayon</span>) passed on on <code>format.LogEvent()</code>.</p>
</dd>
<dt><code>pad_levels</code></dt>
<dd>
<p><code>"right"</code>, <code>"left"</code> or <code>NULL</code>. See <code>format.LogEvent()</code>.</p>
</dd>
</dl>
</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-LayoutFormat-new"><code>LayoutFormat$new()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutFormat-format_event"><code>LayoutFormat$format_event()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutFormat-set_fmt"><code>LayoutFormat$set_fmt()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutFormat-set_timestamp_fmt"><code>LayoutFormat$set_timestamp_fmt()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutFormat-set_colors"><code>LayoutFormat$set_colors()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutFormat-set_pad_levels"><code>LayoutFormat$set_pad_levels()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutFormat-toString"><code>LayoutFormat$toString()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutFormat-read"><code>LayoutFormat$read()</code></a>
</p>
</li>
<li> <p><a href="#method-LayoutFormat-clone"><code>LayoutFormat$clone()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-LayoutFormat-new"></a>



<h4>Method <code>new()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>LayoutFormat$new(
  fmt = "%L [%t] %m %j",
  timestamp_fmt = "%Y-%m-%d %H:%M:%OS3",
  colors = NULL,
  pad_levels = "right"
)</pre></div>


<hr>
<a id="method-LayoutFormat-format_event"></a>



<h4>Method <code>format_event()</code>
</h4>

<p>Format a LogEvent
</p>


<h5>Usage</h5>

<div class="r"><pre>LayoutFormat$format_event(event)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>event</code></dt>
<dd>
<p>a LogEvent</p>
</dd>
</dl>
</div>


<hr>
<a id="method-LayoutFormat-set_fmt"></a>



<h4>Method <code>set_fmt()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>LayoutFormat$set_fmt(x)</pre></div>


<hr>
<a id="method-LayoutFormat-set_timestamp_fmt"></a>



<h4>Method <code>set_timestamp_fmt()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>LayoutFormat$set_timestamp_fmt(x)</pre></div>


<hr>
<a id="method-LayoutFormat-set_colors"></a>



<h4>Method <code>set_colors()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>LayoutFormat$set_colors(x)</pre></div>


<hr>
<a id="method-LayoutFormat-set_pad_levels"></a>



<h4>Method <code>set_pad_levels()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>LayoutFormat$set_pad_levels(x)</pre></div>


<hr>
<a id="method-LayoutFormat-toString"></a>



<h4>Method <code>toString()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>LayoutFormat$toString()</pre></div>


<hr>
<a id="method-LayoutFormat-read"></a>



<h4>Method <code>read()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>LayoutFormat$read(file, threshold = NA_integer_, n = 20L)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>threshold</code></dt>
<dd>
<p>a <code>character</code> or <code>integer</code> threshold</p>
</dd>
<dt><code>n</code></dt>
<dd>
<p>number of log entries to display</p>
</dd>
</dl>
</div>


<hr>
<a id="method-LayoutFormat-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>LayoutFormat$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>See Also</h3>

<p>Other Layouts: 
<code>LayoutGlue</code>,
<code>LayoutJson</code>,
<code>Layout</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># setup a dummy LogEvent
event &lt;- LogEvent$new(
  logger = Logger$new("dummy logger"),
  level = 200,
  timestamp = Sys.time(),
  caller = NA_character_,
  msg = "a test message"
)
lo &lt;- LayoutFormat$new()
lo$format_event(event)
</code></pre>


</div>
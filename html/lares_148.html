<div class="container">

<table style="width: 100%;"><tr>
<td>mplot_gain</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Cumulative Gain Plot</h2>

<h3>Description</h3>

<p>The cumulative gains plot, often named ‘gains plot’, helps us
answer the question: When we apply the model and select the best
X deciles, what 
expect to target? The cumulative gains chart shows the percentage
of the overall number of cases in a given category "gained" by
targeting a percentage of the total number of cases.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mplot_gain(
  tag,
  score,
  multis = NA,
  target = "auto",
  splits = 10,
  highlight = "auto",
  caption = NA,
  save = FALSE,
  subdir = NA,
  file_name = "viz_gain.png",
  quiet = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tag</code></td>
<td>
<p>Vector. Real known label.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>score</code></td>
<td>
<p>Vector. Predicted value or model's result.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>multis</code></td>
<td>
<p>Data.frame. Containing columns with each category probability
or score (only used when more than 2 categories coexist).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target</code></td>
<td>
<p>Value. Which is your target positive value? If
set to 'auto', the target with largest mean(score) will be
selected. Change the value to overwrite. Only works for binary classes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>splits</code></td>
<td>
<p>Integer. Numer of quantiles to split the data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>highlight</code></td>
<td>
<p>Character or Integer. Which split should be used
for the automatic conclussion in the plot? Set to "auto" for
best value, "none" to turn off or the number of split.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>caption</code></td>
<td>
<p>Character. Caption to show in plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save</code></td>
<td>
<p>Boolean. Save output plot into working directory</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subdir</code></td>
<td>
<p>Character. Sub directory on which you wish to save the plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file_name</code></td>
<td>
<p>Character. File name as you wish to save the plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p>Boolean. Do not show message for auto target?</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Plot with gain and performance results by cuts.
</p>


<h3>See Also</h3>

<p>Other ML Visualization: 
<code>mplot_conf()</code>,
<code>mplot_cuts()</code>,
<code>mplot_cuts_error()</code>,
<code>mplot_density()</code>,
<code>mplot_full()</code>,
<code>mplot_importance()</code>,
<code>mplot_lineal()</code>,
<code>mplot_metrics()</code>,
<code>mplot_response()</code>,
<code>mplot_roc()</code>,
<code>mplot_splits()</code>,
<code>mplot_topcats()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">Sys.unsetenv("LARES_FONT") # Temporal
data(dfr) # Results for AutoML Predictions
lapply(dfr, head)

# Plot for Binomial Model
mplot_gain(dfr$class2$tag, dfr$class2$scores,
  caption = "Titanic Survived Model",
  target = "FALSE"
)
mplot_gain(dfr$class2$tag, dfr$class2$scores,
  caption = "Titanic Survived Model",
  target = "TRUE"
)

# Plot for Multi-Categorical Model
mplot_gain(dfr$class3$tag, dfr$class3$score,
  multis = subset(dfr$class3, select = -c(tag, score)),
  caption = "Titanic Class Model"
)
</code></pre>


</div>
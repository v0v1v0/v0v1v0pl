<div class="container">

<table style="width: 100%;"><tr>
<td>video</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generation of a video</h2>

<h3>Description</h3>

<p>Generates a video showing the epidemic dynamics on a map representing the cropping landscape.
(requires ffmpeg library).
</p>


<h3>Usage</h3>

<pre><code class="language-R">video(
  audpc,
  time_param,
  Npatho,
  landscape,
  area,
  rotation,
  croptypes,
  croptype_names = c(),
  cultivars_param,
  keyDates = NULL,
  nMapPY = 10,
  path = getwd()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>audpc</code></td>
<td>
<p>A dataframe containing audpc outputs (generated through epid_output). 1 line per year and
1 column per cultivar, with an additional column for the average audpc in the landscape.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_param</code></td>
<td>
<p>list of simulation parameters:</p>

<ul>
<li>
<p> Nyears = number cropping seasons,
</p>
</li>
<li>
<p> nTSpY = number of time-steps per cropping season.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Npatho</code></td>
<td>
<p>number of pathogen genotypes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>landscape</code></td>
<td>
<p>a sp object containing the landscape.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>area</code></td>
<td>
<p>a vector containing polygon areas (must be in square meters).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rotation</code></td>
<td>
<p>a dataframe containing for each field (rows) and year (columns, named "year_1", "year_2", etc.),
the index of the cultivated croptype. Importantly, the matrix must contain 1 more column than the real number
of simulated years.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>croptypes</code></td>
<td>
<p>a dataframe with three columns named 'croptypeID' for croptype index,
'cultivarID' for cultivar index and 'proportion' for the proportion of the cultivar within the croptype.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>croptype_names</code></td>
<td>
<p>a vector of croptype names (for legend).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cultivars_param</code></td>
<td>
<p>a list of parameters associated with each host genotype (i.e. cultivars)
when cultivated in pure crops:</p>

<ul>
<li>
<p> name = vector of cultivar names,
</p>
</li>
<li>
<p> max_density = vector of maximum host densities (per square meter) at the end of the cropping season
as if cultivated in pure crops,
</p>
</li>
<li>
<p> cultivars_genes_list = a list containing, for each host genotype, the indices of carried resistance genes.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keyDates</code></td>
<td>
<p>a vector of times (in time steps) where to draw vertical lines in the AUDPC graphic. Usually
used to delimit durabilities of the resistance genes. No line is drawn if keyDates=NULL (default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nMapPY</code></td>
<td>
<p>an integer specifying the number of epidemic maps per year to generate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>path where binary files are located and where the video will be generated.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The left panel shows the year-after-year dynamics of AUDPC,
for each cultivar as well as the global average. The right panel illustrates the landscape,
where fields are hatched depending on the cultivated croptype, and coloured depending on the prevalence of the disease.
Note that up to 9 different croptypes can be represented properly in the right panel.
</p>


<h3>Value</h3>

<p>A video file of format webM
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
demo_landsepi()

## End(Not run)
</code></pre>


</div>
<div class="container">

<table style="width: 100%;"><tr>
<td>psis_approximate_posterior</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Diagnostics for Laplace and ADVI approximations and Laplace-loo and ADVI-loo</h2>

<h3>Description</h3>

<p>Diagnostics for Laplace and ADVI approximations and Laplace-loo and ADVI-loo
</p>


<h3>Usage</h3>

<pre><code class="language-R">psis_approximate_posterior(
  log_p = NULL,
  log_g = NULL,
  log_liks = NULL,
  cores,
  save_psis,
  ...,
  log_q = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>log_p</code></td>
<td>
<p>The log-posterior (target) evaluated at S samples from the
proposal distribution (g). A vector of length S.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log_g</code></td>
<td>
<p>The log-density (proposal) evaluated at S samples from the
proposal distribution (g). A vector of length S.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log_liks</code></td>
<td>
<p>A log-likelihood matrix of size S * N, where N is the number
of observations and S is the number of samples from q. See
<code>loo.matrix()</code> for details. Default is <code>NULL</code>. Then only the
posterior is evaluated using the k_hat diagnostic.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cores</code></td>
<td>
<p>The number of cores to use for parallelization. This defaults to
the option <code>mc.cores</code> which can be set for an entire R session by
<code>options(mc.cores = NUMBER)</code>. The old option <code>loo.cores</code> is now
deprecated but will be given precedence over <code>mc.cores</code> until
<code>loo.cores</code> is removed in a future release. <strong>As of version
2.0.0 the default is now 1 core if <code>mc.cores</code> is not set</strong>, but we
recommend using as many (or close to as many) cores as possible.
</p>

<ul><li>
<p> Note for Windows 10 users: it is <strong>strongly</strong>
<a href="https://github.com/stan-dev/loo/issues/94">recommended</a> to avoid using
the <code>.Rprofile</code> file to set <code>mc.cores</code> (using the <code>cores</code> argument or
setting <code>mc.cores</code> interactively or in a script is fine).
</p>
</li></ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save_psis</code></td>
<td>
<p>Should the <code>psis</code> object created internally by <code>loo()</code> be
saved in the returned object? The <code>loo()</code> function calls <code>psis()</code>
internally but by default discards the (potentially large) <code>psis</code> object
after using it to compute the LOO-CV summaries. Setting <code>save_psis=TRUE</code>
will add a <code>psis_object</code> component to the list returned by <code>loo</code>.
This is useful if you plan to use the <code>E_loo()</code> function to compute
weighted expectations after running <code>loo</code>. Several functions in the
<span class="pkg">bayesplot</span> package also accept <code>psis</code> objects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log_q</code></td>
<td>
<p>Deprecated argument name (the same as log_g).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If log likelihoods are supplied, the function returns a <code>"loo"</code> object,
otherwise the function returns a <code>"psis"</code> object.
</p>


<h3>References</h3>

<p>Vehtari, A., Gelman, A., and Gabry, J. (2017). Practical Bayesian model
evaluation using leave-one-out cross-validation and WAIC.
<em>Statistics and Computing</em>. 27(5), 1413â€“1432. doi:10.1007/s11222-016-9696-4
(<a href="https://link.springer.com/article/10.1007/s11222-016-9696-4">journal version</a>,
<a href="https://arxiv.org/abs/1507.04544">preprint arXiv:1507.04544</a>).
</p>
<p>Vehtari, A., Simpson, D., Gelman, A., Yao, Y., and Gabry, J. (2024).
Pareto smoothed importance sampling. <em>Journal of Machine Learning Research</em>,
25(72):1-58.
<a href="https://jmlr.org/papers/v25/19-556.html">PDF</a>
</p>


<h3>See Also</h3>

<p><code>loo()</code> and <code>psis()</code>
</p>


</div>
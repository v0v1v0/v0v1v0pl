<div class="container">

<table style="width: 100%;"><tr>
<td>SPSoutco</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Examine Treatment Differences on an Outcome Measure in Supervised Propensiy Scoring</h2>

<h3>Description</h3>

<p>Examine Within-Bin Treatment Differences on an Outcome Measure and Average these
Differences across Bins.
</p>


<h3>Usage</h3>

<pre><code class="language-R">SPSoutco(envir, dframe, trtm, qbin, yvar, faclev = 3)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>envir</code></td>
<td>
<p>name of the working local control classic environment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dframe</code></td>
<td>
<p>Name of augmented data.frame written to the appn="" argument of SPSlogit().</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trtm</code></td>
<td>
<p>Name of treatment factor variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>qbin</code></td>
<td>
<p>Name of variable containing the PS bin number for each patient.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yvar</code></td>
<td>
<p>Name of an outcome Y variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>faclev</code></td>
<td>
<p>Maximum number of different numerical values an X-covariate can assume without
automatically being converted into a "factor" variable; faclev=1 causes a binary indicator to
be treated as a continuous variable determining an average or proportion.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Once the second phase of Supervised Propensity Scoring confirms, using SPSbalan(), that
X-covariate Distributions have been Balanced Within-Bins, the third phase can start: Examining
Within-Bin Outcome Difference due to Treatment and Averaging these Differences across Bins.
Graphical displays of SPSoutco() results feature R barplot() invocations.
</p>


<h3>Value</h3>

<p>An output list object of class SPSoutco:
</p>

<dl>
<dt>dframe</dt>
<dd>
<p>Name of augmented data.frame written to the appn="" argument of SPSlogit().</p>
</dd>
<dt>trtm</dt>
<dd>
<p>Name of the two-level treatment factor variable.</p>
</dd>
<dt>yvar</dt>
<dd>
<p>Name of an outcome Y variable.</p>
</dd>
<dt>bins</dt>
<dd>
<p>Number of variable containing bin numbers.</p>
</dd>
<dt>PStdif</dt>
<dd>
<p>Character string describing the treatment difference.</p>
</dd>
<dt>rawmean</dt>
<dd>
<p>Unadjusted outcome mean by treatment group.</p>
</dd>
<dt>rawvars</dt>
<dd>
<p>Unadjusted outcome variance by treatment group.</p>
</dd>
<dt>rawfreq</dt>
<dd>
<p>Number of patients by treatment group.</p>
</dd>
<dt>ratdif</dt>
<dd>
<p>Unadjusted mean outcome difference between treatments.</p>
</dd>
<dt>ratsde</dt>
<dd>
<p>Standard error of unadjusted mean treatment difference.</p>
</dd>
<dt>binmean</dt>
<dd>
<p>Unadjusted mean outcome by cluster and treatment.</p>
</dd>
<dt>binvars</dt>
<dd>
<p>Unadjusted variance by cluster and treatment.</p>
</dd>
<dt>binfreq</dt>
<dd>
<p>Number of patients by bin and treatment.</p>
</dd>
<dt>awbdif</dt>
<dd>
<p>Across cluster average difference with cluster size weights.</p>
</dd>
<dt>awbsde</dt>
<dd>
<p>Standard error of awbdif.</p>
</dd>
<dt>wwbdif</dt>
<dd>
<p>Across cluster average difference, inverse variance weights.</p>
</dd>
<dt>wwbsde</dt>
<dd>
<p>Standard error of wwbdif.</p>
</dd>
<dt>form</dt>
<dd>
<p>Formula for overall, marginal treatment difference on X-covariate.</p>
</dd>
<dt>faclev</dt>
<dd>
<p>Maximum number of different numerical values an X-covariate can assume without
automatically being converted into a "factor" variable; faclev=1 causes a binary indicator to be
treated as a continuous variable determining an average or proportion.</p>
</dd>
<dt>youtype</dt>
<dd>
<p>"contin"uous =&gt; only next six outputs; "factor" =&gt; only last four outputs.</p>
</dd>
<dt>aovdiff</dt>
<dd>
<p>ANOVA output for marginal test.</p>
</dd>
<dt>form2</dt>
<dd>
<p>Formula for differences in X due to bins and to treatment nested within bins.</p>
</dd>
<dt>bindiff</dt>
<dd>
<p>ANOVA summary for treatment nested within bin.</p>
</dd>
<dt>pbindif</dt>
<dd>
<p>Unadjusted treatment difference by cluster.</p>
</dd>
<dt>pbinsde</dt>
<dd>
<p>Standard error of the unadjusted difference by cluster.</p>
</dd>
<dt>pbinsiz</dt>
<dd>
<p>Cluster radii measure: square root of total number of patients.</p>
</dd>
<dt>factab</dt>
<dd>
<p>Marginal table of counts by Y-factor level and treatment.</p>
</dd>
<dt>tab</dt>
<dd>
<p>Three-way table of counts by Y-factor level, treatment and bin.</p>
</dd>
<dt>cumchi</dt>
<dd>
<p>Cumulative Chi-Square statistic for interaction in the three-way, nested table.</p>
</dd>
<dt>cumdf</dt>
<dd>
<p>Degrees of-Freedom for the Cumulative Chi-Squared.</p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>Bob Obenchain &lt;wizbob@att.net&gt;
</p>


<h3>References</h3>


<ul>
<li>
<p> Cochran WG. (1968) The effectiveness of adjustment by subclassification
in removing bias in observational studies. <em>Biometrics</em> <b>24</b>:
205-213.
</p>
</li>
<li>
<p> Obenchain RL. (2011) <b>USPSinR.pdf</b>  USPS R-package vignette, 40 pages.
</p>
</li>
<li>
<p> Rosenbaum PR, Rubin RB. (1983) The Central Role of the Propensity Score
in Observational Studies for Causal Effects. <em>Biometrika</em> <b>70</b>:
41-55.
</p>
</li>
<li>
<p> Rosenbaum PR, Rubin DB. (1984) Reducing Bias in Observational Studies
Using Subclassification on a Propensity Score. <em>J Amer Stat Assoc</em>
<b>79</b>: 516-524.
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>SPSlogit</code>, <code>SPSbalan</code> and <code>SPSnbins</code>.
</p>


</div>
<div class="container">

<table style="width: 100%;"><tr>
<td>addImageQuery</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add image query functionality to leaflet/mapview map.</h2>

<h3>Description</h3>

<p>Add image query functionality to leaflet/mapview map.
</p>


<h3>Usage</h3>

<pre><code class="language-R">addImageQuery(
  map,
  x,
  band = 1,
  group = NULL,
  layerId = NULL,
  project = TRUE,
  type = c("mousemove", "click"),
  digits,
  position = "topright",
  prefix = "Layer",
  className = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>map</code></td>
<td>
<p>the map with the RasterLayer to be queried.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>the RasterLayer that is to be queried.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>band</code></td>
<td>
<p>for stars layers, the band number to be queried.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>the group of the RasterLayer to be queried.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>layerId</code></td>
<td>
<p>the layerId of the RasterLayer to be queried. Needs to be the
same as supplied in <code>addRasterImage</code> or
<code>addStarsImage</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>project</code></td>
<td>
<p>whether to project the RasterLayer to conform with leaflets
expected crs. Defaults to <code>TRUE</code> and things are likely to go haywire
if set to <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>whether query should occur on 'mousemove' or 'click'. Defaults
to 'mousemove'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>the number of digits to be shown in the display field.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>position</code></td>
<td>
<p>where to place the display field. Default is 'topright'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prefix</code></td>
<td>
<p>a character string to be shown as prefix for the layerId.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>className</code></td>
<td>
<p>a character string to append to the control legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>currently not used.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function enables Raster*/stars objects added to leaflet/mapview maps to
be queried. Standard query is on 'mousmove', but can be changed to 'click'.
Note that for this to work, the <code>layerId</code> needs to be the same as the
one that was set in <code>addRasterImage</code> or
<code>addStarsImage</code>. Currently only works for
numeric values (i.e. numeric/integer and factor values are supported).
</p>


<h3>Value</h3>

<p>A leaflet map object.
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (interactive()) {
  if (requireNamespace("plainview")) {
    library(leaflet)
    library(plainview)

    leaflet() %&gt;%
      addProviderTiles("OpenStreetMap") %&gt;%
      addRasterImage(poppendorf[[1]], project = TRUE, group = "poppendorf",
                     layerId = "poppendorf") %&gt;%
      addImageQuery(poppendorf[[1]], project = TRUE,
                    layerId = "poppendorf") %&gt;%
      addLayersControl(overlayGroups = "poppendorf")
  }
}

</code></pre>


</div>
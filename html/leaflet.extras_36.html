<div class="container">

<table style="width: 100%;"><tr>
<td>addWebGLHeatmap</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add a webgl heatmap</h2>

<h3>Description</h3>

<p>Add a webgl heatmap
</p>
<p>Adds a heatmap with data from a GeoJSON/TopoJSON file/url
</p>
<p>Adds a heatmap with data from a KML file/url
</p>
<p>Adds a heatmap with data from a CSV file/url
</p>
<p>Adds a heatmap with data from a GPX file/url
</p>
<p>removes the webgl heatmap
</p>
<p>clears the webgl heatmap
</p>


<h3>Usage</h3>

<pre><code class="language-R">addWebGLHeatmap(
  map,
  lng = NULL,
  lat = NULL,
  intensity = NULL,
  layerId = NULL,
  group = NULL,
  size = "30000",
  units = "m",
  opacity = 1,
  gradientTexture = NULL,
  alphaRange = 1,
  data = leaflet::getMapData(map)
)

addWebGLGeoJSONHeatmap(
  map,
  geojson,
  layerId = NULL,
  group = NULL,
  intensityProperty = NULL,
  size = "30000",
  units = "m",
  opacity = 1,
  gradientTexture = NULL,
  alphaRange = 1
)

addWebGLKMLHeatmap(
  map,
  kml,
  layerId = NULL,
  group = NULL,
  intensityProperty = NULL,
  size = "30000",
  units = "m",
  opacity = 1,
  gradientTexture = NULL,
  alphaRange = 1
)

addWebGLCSVHeatmap(
  map,
  csv,
  csvParserOptions,
  layerId = NULL,
  group = NULL,
  intensityProperty = NULL,
  size = "30000",
  units = "m",
  opacity = 1,
  gradientTexture = NULL,
  alphaRange = 1
)

addWebGLGPXHeatmap(
  map,
  gpx,
  layerId = NULL,
  group = NULL,
  intensityProperty = NULL,
  size = "30000",
  units = "m",
  opacity = 1,
  gradientTexture = NULL,
  alphaRange = 1
)

removeWebGLHeatmap(map, layerId)

clearWebGLHeatmap(map)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>map</code></td>
<td>
<p>a map widget object created from <code>leaflet()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lng</code></td>
<td>
<p>a numeric vector of longitudes, or a one-sided formula of the form
<code>~x</code> where <code>x</code> is a variable in <code>data</code>; by default (if not
explicitly provided), it will be automatically inferred from <code>data</code> by
looking for a column named <code>lng</code>, <code>long</code>, or <code>longitude</code>
(case-insensitively)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lat</code></td>
<td>
<p>a vector of latitudes or a formula (similar to the <code>lng</code>
argument; the names <code>lat</code> and <code>latitude</code> are used when guessing
the latitude column from <code>data</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intensity</code></td>
<td>
<p>intensity of the heat. A vector of numeric values or a formula.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>layerId</code></td>
<td>
<p>the layer id</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>the name of the group the newly created layers should belong to
(for <code>clearGroup</code> and <code>addLayersControl</code> purposes).
Human-friendly group names are permittedâ€“they need not be short,
identifier-style names. Any number of layers and even different types of
layers (e.g. markers and polygons) can share the same group name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>in meters or pixels</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>units</code></td>
<td>
<p>either "m" or "px"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>opacity</code></td>
<td>
<p>for the canvas element</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gradientTexture</code></td>
<td>
<p>Alternative colors for heatmap.
allowed values are "skyline", "deep-sea"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alphaRange</code></td>
<td>
<p>adjust transparency by changing to value between 0 and 1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>the data object from which the argument values are derived; by
default, it is the <code>data</code> object provided to <code>leaflet()</code>
initially, but can be overridden</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>geojson</code></td>
<td>
<p>The geojson or topojson url or contents as string.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intensityProperty</code></td>
<td>
<p>The property to use for determining the intensity at a point.
Can be a "string" or a JS function, or NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kml</code></td>
<td>
<p>The KML url or contents as string.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>csv</code></td>
<td>
<p>The CSV url or contents as string.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>csvParserOptions</code></td>
<td>
<p>options for parsing the CSV.
Use <code>csvParserOptions</code>() to supply csv parser options.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gpx</code></td>
<td>
<p>The GPX url or contents as string.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">## addWebGLHeatmap
leaflet(quakes) %&gt;%
  addProviderTiles(providers$CartoDB.DarkMatter) %&gt;%
  addWebGLHeatmap(lng = ~long, lat = ~lat, size = 60000)

## for more examples see
# browseURL(system.file("examples/webglHeatmaps.R", package = "leaflet.extras"))
## addWebGLGeoJSONHeatmap

geoJson &lt;- readr::read_file(
  "https://rawgit.com/benbalter/dc-maps/master/maps/historic-landmarks-points.geojson"
)

leaflet() %&gt;%
  setView(-77.0369, 38.9072, 12) %&gt;%
  addProviderTiles(providers$CartoDB.Positron) %&gt;%
  addWebGLGeoJSONHeatmap(
    geoJson,
    size = 30, units = "px"
  ) %&gt;%
  addGeoJSONv2(
    geoJson,
    markerType = "circleMarker",
    stroke = FALSE, fillColor = "black", fillOpacity = 0.7,
    markerOptions = markerOptions(radius = 2)
  )


## for more examples see
# browseURL(system.file("examples/geojsonV2.R", package = "leaflet.extras"))
# browseURL(system.file("examples/TopoJSON.R", package = "leaflet.extras"))
## addWebGLKMLHeatmap

kml &lt;- readr::read_file(
  system.file("examples/data/kml/crimes.kml.zip", package = "leaflet.extras")
)

leaflet() %&gt;%
  setView(-77.0369, 38.9072, 12) %&gt;%
  addProviderTiles(providers$CartoDB.Positron) %&gt;%
  addWebGLKMLHeatmap(kml, size = 20, units = "px") %&gt;%
  addKML(
    kml,
    markerType = "circleMarker",
    stroke = FALSE, fillColor = "black", fillOpacity = 1,
    markerOptions = markerOptions(radius = 1)
  )


## addWebGLCSVHeatmap

csv &lt;- readr::read_file(
  system.file("examples/data/csv/world_airports.csv.zip", package = "leaflet.extras")
)

leaflet() %&gt;%
  setView(0, 0, 2) %&gt;%
  addProviderTiles(providers$CartoDB.DarkMatterNoLabels) %&gt;%
  addWebGLCSVHeatmap(
    csv,
    csvParserOptions("latitude_deg", "longitude_deg"),
    size = 10, units = "px"
  )



airports &lt;- readr::read_file(
  system.file("examples/data/gpx/md-airports.gpx.zip", package = "leaflet.extras")
)

leaflet() %&gt;%
  addBootstrapDependency() %&gt;%
  setView(-76.6413, 39.0458, 8) %&gt;%
  addProviderTiles(
    providers$CartoDB.Positron,
    options = providerTileOptions(detectRetina = TRUE)
  ) %&gt;%
  addWebGLGPXHeatmap(
    airports,
    size = 20000,
    group = "airports",
    opacity = 0.9
  ) %&gt;%
  addGPX(
    airports,
    markerType = "circleMarker",
    stroke = FALSE, fillColor = "black", fillOpacity = 1,
    markerOptions = markerOptions(radius = 1.5),
    group = "airports"
  )



## for a larger example see
# browseURL(system.file("examples/GPX.R", package = "leaflet.extras"))
</code></pre>


</div>
<div class="container">

<table style="width: 100%;"><tr>
<td>addEsriFeatureLayer</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Adds an ArcGIS Feature Layer.</h2>

<h3>Description</h3>

<p>FeatureLayer is used to visualize, style, query and edit vector geographic data hosted in both ArcGIS Online and published using ArcGIS Server. Copyright text from the service is added to map attribution automatically.
</p>


<h3>Usage</h3>

<pre><code class="language-R">addEsriFeatureLayer(map, url, useServiceSymbology = FALSE,
  options = featureLayerOptions(), layerId = NULL, group = NULL,
  markerType = NULL, markerIcons = NULL, markerIconProperty = NULL,
  markerOptions = leaflet::markerOptions(), clusterOptions = NULL,
  clusterId = NULL, labelProperty = NULL,
  labelOptions = leaflet::labelOptions(), popupProperty = NULL,
  popupOptions = leaflet::popupOptions(), stroke = TRUE, color = "#03F",
  weight = 5, opacity = 0.5, fill = TRUE, fillColor = color,
  fillOpacity = 0.2, dashArray = NULL, smoothFactor = 1, noClip = FALSE,
  pathOptions = leaflet::pathOptions(), highlightOptions = NULL,
  fitBounds = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>map</code></td>
<td>
<p>The leaflet map</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>url</code></td>
<td>
<p>url of the <a href="http://resources.arcgis.com/en/help/arcgis-rest-api/index.html#/Feature_Service/02r3000000z2000000/">FeatureService</a> or <a href="http://resources.arcgis.com/en/help/arcgis-rest-api/index.html#/Map_Service/02r3000000w2000000/">MapService</a>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>useServiceSymbology</code></td>
<td>
<p>whether to use the symbology set when a service was published.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>options</code></td>
<td>
<p>options for the featurelayer</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>layerId</code></td>
<td>
<p>A unique ID for the layer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>The name of the group this layer should be added to.
the same parameter under <code>addTiles</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>markerType</code></td>
<td>
<p>The type of marker.  either "marker" or "circleMarker"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>markerIcons</code></td>
<td>
<p>Icons for Marker.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>markerIconProperty</code></td>
<td>
<p>The property of the feature to use for marker icon.
Can be a JS function which accepts a feature and returns an index of <code>markerIcons</code>.
In either case the result must be one of the indexes of markerIcons.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>markerOptions</code></td>
<td>
<p>The options for markers
Can be a single marker using <code>makeIcon</code>
or a list of markers using <code>iconList</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clusterOptions</code></td>
<td>
<p>if not <code>NULL</code>, markers will be clustered using
<a href="https://github.com/Leaflet/Leaflet.markercluster">Leaflet.markercluster</a>;
you can use <code>markerClusterOptions()</code> to specify marker cluster
options</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clusterId</code></td>
<td>
<p>the id for the marker cluster layer</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labelProperty</code></td>
<td>
<p>The property to use for the label.
You can also pass in a JS function that takes in a feature and returns a text/HTML content.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labelOptions</code></td>
<td>
<p>A Vector of <code>labelOptions</code> to provide label
options for each label. Default <code>NULL</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>popupProperty</code></td>
<td>
<p>The property to use for popup content
You can also pass in a JS function that takes in a feature and returns a text/HTML content.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>popupOptions</code></td>
<td>
<p>A Vector of <code>popupOptions</code> to provide popups</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stroke</code></td>
<td>
<p>whether to draw stroke along the path (e.g. the borders of
polygons or circles)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>stroke color</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight</code></td>
<td>
<p>stroke width in pixels</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>opacity</code></td>
<td>
<p>stroke opacity (or layer opacity for tile layers)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill</code></td>
<td>
<p>whether to fill the path with color (e.g. filling on polygons or
circles)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fillColor</code></td>
<td>
<p>fill color</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fillOpacity</code></td>
<td>
<p>fill opacity</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dashArray</code></td>
<td>
<p>a string that defines the stroke
<a href="https://developer.mozilla.org/en/SVG/Attribute/stroke-dasharray">dash
pattern</a></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smoothFactor</code></td>
<td>
<p>how much to simplify the polyline on each zoom level
(more means better performance and less accurate representation)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>noClip</code></td>
<td>
<p>whether to disable polyline clipping</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pathOptions</code></td>
<td>
<p>Options for shapes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>highlightOptions</code></td>
<td>
<p>Options for highlighting the shape on mouse over.
you can use <code>highlightOptions()</code> to specify highlight</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fitBounds</code></td>
<td>
<p>Whether to set the maps bounds to fit the data in the featureLayer
options</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">leaflet() %&gt;%
  addEsriBasemapLayer(esriBasemapLayers$Streets) %&gt;%
  setView(-122.667, 45.526, 13) %&gt;%
  addEsriFeatureLayer(
    url = paste0("https://services.arcgis.com/rOo16HdIMeOBI4Mb/arcgis/rest/services/",
                 "Heritage_Trees_Portland/FeatureServer/0"),
    useServiceSymbology = TRUE,
    labelProperty = "COMMON_NAM", labelOptions = labelOptions(textsize = "12px"),
  popupProperty = JS(paste0(
    "function(feature) {",
    "  return L.Util.template(",
    "    \"&lt;h3&gt;{COMMON_NAM}&lt;/h3&gt;&lt;hr /&gt;",
    "      &lt;p&gt;This tree is located at {ADDRESS} and its scientific name is {SCIENTIFIC}.&lt;/p&gt;",
    "    \",",
    "    feature.properties",
    "  );",
    "}"
  )))

## for more examples see
# browseURL(system.file("examples/featureLayers.R", package = "leaflet.esri"))
# browseURL(system.file("examples/multipleFeatureLayers.R", package = "leaflet.esri"))
</code></pre>


</div>
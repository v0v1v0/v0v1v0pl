<div class="container">

<table style="width: 100%;"><tr>
<td>addHeatmap</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add a heatmap</h2>

<h3>Description</h3>

<p>Add a heatmap
</p>
<p>Adds a heatmap with data from a GeoJSON/TopoJSON file/url
</p>
<p>Adds a heatmap with data from a KML file/url
</p>
<p>Adds a heatmap with data from a CSV file/url
</p>
<p>Adds a heatmap with data from a GPX file/url
</p>
<p>removes the heatmap
</p>
<p>clears the heatmap
</p>


<h3>Usage</h3>

<pre><code class="language-R">addHeatmap(
  map,
  lng = NULL,
  lat = NULL,
  intensity = NULL,
  layerId = NULL,
  group = NULL,
  minOpacity = 0.05,
  max = 1,
  radius = 25,
  blur = 15,
  gradient = NULL,
  cellSize = NULL,
  data = leaflet::getMapData(map)
)

addGeoJSONHeatmap(
  map,
  geojson,
  layerId = NULL,
  group = NULL,
  intensityProperty = NULL,
  minOpacity = 0.05,
  max = 1,
  radius = 25,
  blur = 15,
  gradient = NULL,
  cellSize = NULL
)

addKMLHeatmap(
  map,
  kml,
  layerId = NULL,
  group = NULL,
  intensityProperty = NULL,
  minOpacity = 0.05,
  max = 1,
  radius = 25,
  blur = 15,
  gradient = NULL,
  cellSize = NULL
)

addCSVHeatmap(
  map,
  csv,
  csvParserOptions,
  layerId = NULL,
  group = NULL,
  intensityProperty = NULL,
  minOpacity = 0.05,
  max = 1,
  radius = 25,
  blur = 15,
  gradient = NULL,
  cellSize = NULL
)

addGPXHeatmap(
  map,
  gpx,
  layerId = NULL,
  group = NULL,
  intensityProperty = NULL,
  minOpacity = 0.05,
  max = 1,
  radius = 25,
  blur = 15,
  gradient = NULL,
  cellSize = NULL
)

removeHeatmap(map, layerId)

clearHeatmap(map)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>map</code></td>
<td>
<p>a map widget object created from <code>leaflet()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lng</code></td>
<td>
<p>a numeric vector of longitudes, or a one-sided formula of the form
<code>~x</code> where <code>x</code> is a variable in <code>data</code>; by default (if not
explicitly provided), it will be automatically inferred from <code>data</code> by
looking for a column named <code>lng</code>, <code>long</code>, or <code>longitude</code>
(case-insensitively)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lat</code></td>
<td>
<p>a vector of latitudes or a formula (similar to the <code>lng</code>
argument; the names <code>lat</code> and <code>latitude</code> are used when guessing
the latitude column from <code>data</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intensity</code></td>
<td>
<p>intensity of the heat. A vector of numeric values or a formula.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>layerId</code></td>
<td>
<p>the layer id</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>the name of the group the newly created layers should belong to
(for <code>clearGroup</code> and <code>addLayersControl</code> purposes).
Human-friendly group names are permittedâ€“they need not be short,
identifier-style names. Any number of layers and even different types of
layers (e.g. markers and polygons) can share the same group name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minOpacity</code></td>
<td>
<p>minimum opacity at which the heat will start</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max</code></td>
<td>
<p>maximum point intensity. The default is <code>1.0</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>radius</code></td>
<td>
<p>radius of each "point" of the heatmap.  The default is
<code>25</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>blur</code></td>
<td>
<p>amount of blur to apply.  The default is <code>15</code>.
<code>blur=1</code> means no blur.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gradient</code></td>
<td>
<p>palette name from <code>RColorBrewer</code> or an array of
of colors to be provided to <code>colorNumeric</code>, or
a color mapping function returned from <code>colorNumeric</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cellSize</code></td>
<td>
<p>the cell size in the grid. Points which are closer
than this may be merged. Defaults to 'radius / 2'.s
Set to '1' to do almost no merging.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>the data object from which the argument values are derived; by
default, it is the <code>data</code> object provided to <code>leaflet()</code>
initially, but can be overridden</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>geojson</code></td>
<td>
<p>The geojson or topojson url or contents as string.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intensityProperty</code></td>
<td>
<p>The property to use for determining the intensity at a point.
Can be a "string" or a JS function, or NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kml</code></td>
<td>
<p>The KML url or contents as string.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>csv</code></td>
<td>
<p>The CSV url or contents as string.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>csvParserOptions</code></td>
<td>
<p>options for parsing the CSV.
Use <code>csvParserOptions</code>() to supply csv parser options.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gpx</code></td>
<td>
<p>The GPX url or contents as string.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">leaflet(quakes) %&gt;%
  addProviderTiles(providers$CartoDB.DarkMatter) %&gt;%
  setView(178, -20, 5) %&gt;%
  addHeatmap(
    lng = ~long, lat = ~lat, intensity = ~mag,
    blur = 20, max = 0.05, radius = 15
  )

## for more examples see
# browseURL(system.file("examples/heatmaps.R", package = "leaflet.extras"))
kml &lt;- readr::read_file(
  system.file("examples/data/kml/crimes.kml.zip", package = "leaflet.extras")
)

leaflet() %&gt;%
  setView(-77.0369, 38.9072, 12) %&gt;%
  addProviderTiles(providers$CartoDB.Positron) %&gt;%
  addKMLHeatmap(kml, radius = 7) %&gt;%
  addKML(
    kml,
    markerType = "circleMarker",
    stroke = FALSE, fillColor = "black", fillOpacity = 1,
    markerOptions = markerOptions(radius = 1)
  )

## for more examples see
# browseURL(system.file("examples/KML.R", package = "leaflet.extras"))
</code></pre>


</div>
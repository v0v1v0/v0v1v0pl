<div class="container">

<table style="width: 100%;"><tr>
<td>designDiagram-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>The <code>designDiagram</code> class and some basic methods</h2>

<h3>Description</h3>

<p>Objects of class <code>designDiagram</code> as generated by <code>DD</code> is a list with entries as specified below.
</p>

<dl>
<dt><code>response</code></dt>
<dd>
<p>Logical stating whether a response variable was present.</p>
</dd>
<dt><code>terms</code></dt>
<dd>
<p>Named vector with all terms in the design.</p>
</dd>
<dt><code>random.terms</code></dt>
<dd>
<p>Vector with the random terms in the design.</p>
</dd>
<dt><code>relations</code></dt>
<dd>
<p>Named matrix with relations between variables with the following interpretation: "0"=linear indepent, "&lt;"=row term is a subspace of column, "&lt;-"=row term is a subspace of column term and no other terms are inbetween, "&gt;" and "-&gt;" the similar interpretatioin between columns and rows, name=name of minimum between row and column term.</p>
</dd>
<dt><code>inner</code></dt>
<dd>
<p>Named matrix of squared inner products of subspaces with nesting subspaces removed. Rounded at order of <code>eps</code> in the call to <code>link{DD}</code>. Used to decide orthogonality of the design.</p>
</dd>
<dt><code>Nparm</code></dt>
<dd>
<p>Named vector with the number of parameters for the terms.</p>
</dd>
<dt><code>df</code></dt>
<dd>
<p>Named vector with the degrees of freedom for the terms.</p>
</dd>
<dt><code>SS</code></dt>
<dd>
<p>Named matrix with Sum-of-Squares if a response variable was specified.</p>
</dd>
<dt><code>MSS</code></dt>
<dd>
<p>Named matrix with Mean-Sum-of-Squares if a response variable was specified.</p>
</dd>
<dt><code>pvalue</code></dt>
<dd>
<p>Named matrix with p-values for Type-I F-tests. p-values are stated at the collapsed nesting, but F-test are done against the most coarse nested random effect.</p>
</dd>
<dt><code>sigma2</code></dt>
<dd>
<p>Named vector of random effects variance estimates.</p>
</dd>
<dt><code>varcov</code></dt>
<dd>
<p>Named list of variance-covariance matrix for fixed effects relative to each of the random effects. Rounded at order of <code>eps</code>.</p>
</dd>
<dt><code>coordinates</code></dt>
<dd>
<p>Data frame with node coordinates of the terms. Initialized in Sugiyama layout.</p>
</dd>
</dl>
<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'designDiagram'
print(x, ...)

## S3 method for class 'designDiagram'
summary(object, ...)

## S3 method for class 'designDiagram'
update(object, ...)

## S3 method for class 'designDiagram'
plot(
  x,
  circle = "none",
  pvalue = (circle == "MSS"),
  sigma2 = NULL,
  kill = ~1,
  ca = FALSE,
  max.area = NULL,
  relative = 0.01,
  color = NULL,
  circle.scaling = 1,
  arrow.type = arrow(angle = 20, length = unit(4, "mm")),
  xlim = c(0, 1),
  ylim = c(0, 1),
  horizontal = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>object of class <code>designDiagram</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>not used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>object of class <code>designDiagram</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>circle</code></td>
<td>
<p>character specifying which circles to draw at the terms: <code>"none"</code>=no circles, <code>"SS"</code>=a circle with area proportional to the associated Sum-of-Squares, <code>"MSS"</code>=a circle with area proportional to the associated Mean-Sum-of-Squares, <code>"I"</code>=a circle with area proportional to average information, <code>"I2"</code>=a circle with area proportional to average information of the parameter contrasts. Defaults to <code>"none"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pvalue</code></td>
<td>
<p>boolean specifying whether p-values should be inserted on the graphs. This is only possible if a response variable was specified. Defaults to <code>TRUE</code> is <code>circle="MSS"</code> and <code>FALSE</code> otherwise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigma2</code></td>
<td>
<p>vector of random effects variances. Defaults to <code>NULL</code>, in which case the estimates are used (if present), otherwise all variances are set to 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kill</code></td>
<td>
<p>formula specifying which cirlces not to plot. Defaults to <code>~1</code> corresponding to not plotting the intercept term (that otherwise may overweight the remaining terms).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ca</code></td>
<td>
<p>boolean deciding whether collinearity analysis is visualized. If <code>NULL</code> then set <code>TRUE</code> for non-orthogonal designs, and to <code>FALSE</code> for orthogonal designs. Defaults to <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.area</code></td>
<td>
<p>numeric specifying the used maximal area of circles. If <code>NULL</code> then <code>max.area</code> is derived from <code>SS</code>, <code>MSS</code> or <code>I</code> according to value of <code>circle</code>. Defaults to <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>relative</code></td>
<td>
<p>positive numeric, which specifies needed relative increase for an area to be visualized in the collinearity analysis. Defaults to <code>0.01</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>color of circles when <code>ca=FALSE</code>. Defaults to <code>NULL</code> corresponding to preassigned choice of colors (see details below).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>circle.scaling</code></td>
<td>
<p>numeric specifying size scaling of circles. Defaults to <code>1</code>, which corresponds to the largest circle having a radius that is half of the shortest distance between two nodes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>arrow.type</code></td>
<td>
<p>specifying arrow heads via <code>arrow</code>. Defaults to <code>arrow(angle=20,length=unit(4,"mm"))</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>x-range of diagram plot. Defaults to <code>c(0,1)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>y-range of diagram plot. Defaults to <code>c(0,1)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>horizontal</code></td>
<td>
<p>boolean specifying if the design diagram should be drawn horizontally or vertically. Defaults to <code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For <code>plot.designDiagram</code> the options <code>circle="SS"</code> and <code>circle="MSS"</code> are only available if a response variable was specified for the design.
For <code>circle="I"</code> and <code>circle="I2"</code> the color of the circles visualize the coefficient of variation of the informations. For the computation of the informations the variances of the random effects are either estimated (if a response variable is present), all set to 1 (otherwise), or given via the option <code>sigma2</code>.
</p>
<p>If <code>color=NULL</code> and <code>ca=FALSE</code>, then the defaults colors are <code>"lightgreen"</code> for Sum-of-Squares, <code>"lightblue"</code> for Mean-Sum-of-Squares, and a gradient from <code>"limegreen"</code> to <code>"orange"</code> for information spread. To specify a different color gradient in the latter case, then give a vector of two colors.
</p>
<p>For <code>update.designDiagram</code> the second argument should be a data frame with new <code>coordinates</code>. This can be usefull for manually setting the coordinates for plotting.
</p>


<h3>See Also</h3>

<p><code>DD</code>
</p>


</div>
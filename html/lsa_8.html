<div class="container">

<table style="width: 100%;"><tr>
<td>triples</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Bind Triples to a Textmatrix</h2>

<h3>Description</h3>

<p>Allows to store, manage and retrieve SPO-triples (subject, predicate, object)
bound to the document columns of a document term matrix.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getTriple( M, subject, predicate )
setTriple( M, subject, predicate, object )
delTriple( M, subject, predicate, object )
getSubjectId( M, subject )
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>M</code></td>
<td>
<p>the document term matrix (see <code>textmatrix</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subject</code></td>
<td>
<p>column number or column name (e.g., <code>"doc3"</code> or <code>3</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predicate</code></td>
<td>
<p>predicate of the triple sentence (e.g., <code>"has\_category"</code> or <code>"has\_grade"</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>value of the triple sentence (e.g., <code>"14"</code> or <code>14</code>).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>SPO-Triples are simple facts of the uniform structure
(subject, predicate, object). A subject is typically
a document in the given document-term matrix M,
i.e. its document title (as in the column names) or its 
column position. A key-value pair (the <span class="option">predicate</span> 
and the <span class="option">object</span>) can be bound to this <span class="option">subject</span>.
</p>
<p>This can be used, for example, to store classification
information about the documents of the text base used.
</p>
<p>The triple data is stored in the environment of M
constructed by <code>textmatrix()</code>.
</p>
<p>Whenever a matrix has to be used which has not been generated by 
this function, its class should be set to 'textmatrix' and an 
environment has to be added manually via:
</p>
<p><code>class(mymatrix) = "textmatrix"</code>
</p>
<p><code>environment(mymatrix) = new.env()</code>
</p>
<p>Alternatively, <code>as.matrix()</code> can be used to convert a
matrix to a textmatrix. To spare memory, the manual method
might be of advantage.
</p>
<p>In <code>getTriple()</code>, the arguments <span class="option">subject</span> and <span class="option">predicate</span>
are optional.
</p>


<h3>Value</h3>

<table><tr style="vertical-align: top;">
<td><code>textmatrix</code></td>
<td>
<p>the document-term matrix (including row and column names).</p>
</td>
</tr></table>
<h3>Author(s)</h3>

<p> Fridolin Wild <a href="mailto:f.wild@open.ac.uk">f.wild@open.ac.uk</a> </p>


<h3>See Also</h3>

 <p><code>textmatrix</code> </p>


<h3>Examples</h3>

<pre><code class="language-R">
    x = matrix(2,2,3) # we fake a document term matrix
    rownames(x) = c("dog","mouse") # fake term names
    colnames(x) = c("doc1","doc2","doc3") # fake doc titles
    class(x) = "textmatrix" # usually done by textmatrix()
    environment(x) = new.env() # usually done by textmatrix()
    
    setTriple(x, "doc1", "has_category", "15")
    setTriple(x, "doc2", "has_category", "7")
    setTriple(x, "doc1", "has_grade", "5")
    setTriple(x, "doc1", "has_category", "11")
    
    getTriple(x, "doc1")
    getTriple(x, "doc1")[[2]]
    getTriple(x, "doc1", "has_category") # -&gt; [1] "15" "11"
    
    delTriple(x, "doc1", "has_category", "15")
    getTriple(x, "doc1", "has_category") # -&gt; [1] "11"
    
</code></pre>


</div>
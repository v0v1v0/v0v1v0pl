<div class="container">

<table style="width: 100%;"><tr>
<td>add_predictions</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add black box predictions to generated dataset</h2>

<h3>Description</h3>

<p>Add black box predictions to generated dataset
</p>


<h3>Usage</h3>

<pre><code class="language-R">add_predictions(
  to_explain,
  black_box_model,
  data = NULL,
  predict_fun = predict,
  hyperparams = list(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>to_explain</code></td>
<td>
<p>List return by sample_locally function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>black_box_model</code></td>
<td>
<p>String with mlr signature of a learner or a model with predict interface.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Original data frame used to generate new dataset.
Need not be provided when a trained model is passed in
black_box_model argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predict_fun</code></td>
<td>
<p>Either a "predict" function that returns a vector of the
same type as response or custom function that takes a model as a first argument,
and data used to calculate predictions as a second argument
and returns a vector of the same type as respone.
Will be used only if a model object was provided in the black_box argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hyperparams</code></td>
<td>
<p>Optional list of (hyper)parameters to be passed to mlr::makeLearner.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional parameters to be passed to predict function.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>list of class "live_explorer" consisting of
</p>
<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Dataset generated by sample_locally function with response variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target</code></td>
<td>
<p>Name of the response variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>Black box model which is being explained.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>explained_instance</code></td>
<td>
<p>Instance that is being explained.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sampling_method</code></td>
<td>
<p>Name of used sampling method</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fixed_variables</code></td>
<td>
<p>Names of variables which were not sampled</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sdevations</code></td>
<td>
<p>Standard deviations of numerical variables</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Train a model inside add_predictions call.
local_exploration1 &lt;- add_predictions(dataset_for_local_exploration,
                                      black_box_model = "regr.svm",
                                      data = wine)
# Pass trained model to the function.
svm_model &lt;- svm(quality ~., data = wine)
local_exploration2 &lt;- add_predictions(dataset_for_local_exploration,
                                      black_box_model = svm_model)

## End(Not run)

</code></pre>


</div>
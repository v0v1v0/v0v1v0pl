<div class="container">

<table style="width: 100%;"><tr>
<td>fb_rf</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Facebook Reach and Frequency API</h2>

<h3>Description</h3>

<p>Create or query reach and frequency predictions using Facebook's
Reach and Frequency API. For more information on the API and its parameters, go to the
<a href="https://developers.facebook.com/docs/marketing-api/insights">original documentaion</a>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fb_rf(
  token,
  ad_account = NA,
  prediction = NA,
  objective = "REACH",
  days = 28,
  budget = 2e+06,
  destination_ids = NA,
  countries = "MX",
  frequency_cap = 8,
  prediction_mode = 1,
  curve = TRUE,
  api_version = NULL,
  process = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>token</code></td>
<td>
<p>Character. Valid access token with sufficient privileges. Visit the
<a href="https://developers.facebook.com/tools/explorer">Facebook API Graph Explorer</a>
to acquire one.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ad_account</code></td>
<td>
<p>Character. Ad Account. Remember to start with <code>act_</code>. If you
use the <code>prediction</code> argument, no need to provide this parameter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prediction</code></td>
<td>
<p>Integer. Prediction ID if you already created the prediction
and wish to query the curve's data. As this prediction already exists, the
rest of arguments of this function will be ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>objective</code></td>
<td>
<p>Character. Any of: "BRAND_AWARENESS", "LINK_CLICKS", "POST_ENGAGEMENT",
"MOBILE_APP_INSTALLS", "CONVERSIONS", "REACH", or "VIDEO_VIEWS".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>days</code></td>
<td>
<p>Integer. Amount of days for your campaign's predictions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>budget</code></td>
<td>
<p>Integer. The budget in the Ad Account currency in cents.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>destination_ids</code></td>
<td>
<p>Integer vector. Page ID and/or Instagram Account ID.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>countries</code></td>
<td>
<p>Character vector. Country's acronyms.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>frequency_cap</code></td>
<td>
<p>Integer. Frequency cap over all the campaign duration.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prediction_mode</code></td>
<td>
<p>Integer. "1" for predicting Reach by providing budget,
"2" is for predicting Budget given a specific Reach.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>curve</code></td>
<td>
<p>Boolean. Return curve data? If not, only prediction will be created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>api_version</code></td>
<td>
<p>Character. Facebook API version.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>process</code></td>
<td>
<p>Boolean. Process GET results to a more friendly format?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional parameters passed to target specs.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>data.frame with un-nested processed results if <code>process=TRUE</code> or
raw API results as list when <code>process=FALSE</code>.
</p>


<h3>See Also</h3>

<p>Other API: 
<code>bring_api()</code>,
<code>fb_accounts()</code>,
<code>fb_ads()</code>,
<code>fb_creatives()</code>,
<code>fb_insights()</code>,
<code>fb_process()</code>,
<code>fb_report_check()</code>,
<code>fb_token()</code>,
<code>gemini_ask()</code>,
<code>gpt_ask()</code>,
<code>li_auth()</code>,
<code>li_profile()</code>,
<code>queryGA()</code>,
<code>slackSend()</code>
</p>
<p>Other Meta: 
<code>fb_accounts()</code>,
<code>fb_ads()</code>,
<code>fb_creatives()</code>,
<code>fb_insights()</code>,
<code>fb_process()</code>,
<code>fb_report_check()</code>,
<code>fb_token()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
token &lt;- "YOURTOKEN"
account_id &lt;- "act_20846447"

# BASIC 1: Create and return data for a new prediction
basic1 &lt;- fb_rf(token, account_id, destination_ids = 187071108930, countries = "AR")

# BASIC 2: Fetch data for an existing prediction ID
basic2 &lt;- fb_rf(token, account_id, prediction = 6317720998974)

# ADVANCED (Fully custom prediction)
advanced &lt;- fb_rf(token, account_id,
  objective = "REACH",
  days = 28,
  budget = 2000000,
  destination_ids = c(187071108930, 1142958119078556),
  age_min = 15,
  age_max = 65,
  genders = 2,
  countries = "MX",
  publisher_platforms = c(
    "facebook",
    "instagram",
    #' audience_network',
    "messenger"
  ),
  # interests_ids = NA,
  facebook_positions = c(
    "feed",
    #' instant_article',
    "marketplace",
    "video_feeds",
    "story",
    "search",
    "instream_video"
  ),
  instagram_positions = c(
    "stream",
    "story",
    "explore"
  ),
  # audience_network_positions = c(
  #  'classic',
  #  'instream_video')
  messenger_positions = c(
    "messenger_home",
    "sponsored_messages",
    "story"
  ),
  device_platforms = c(
    "mobile",
    "desktop"
  )
)

## End(Not run)
</code></pre>


</div>
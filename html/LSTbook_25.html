<div class="container">

<table style="width: 100%;"><tr>
<td>datasim_make</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Construct and modify data simulations</h2>

<h3>Description</h3>

<p>Construct and modify data simulations
</p>


<h3>Usage</h3>

<pre><code class="language-R">datasim_make(...)

datasim_to_igraph(sim, report_hidden = FALSE)

datasim_intervene(sim, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sim</code></td>
<td>
<p>The data simulation object to be modified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>report_hidden</code></td>
<td>
<p>If <code>TRUE</code>, show the hidden nodes (nodes whose names
begin with a dot.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Descriptions of the nodes in the simulation, written in assignment form. See details.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Simulations in <code>LSTbook</code> are first specified by providing the
code for each node (which can be written in terms of the values of other nodes). Once
constructed, data can be extracted from the simulation using <code>datasim_run(n)</code> or the
generic <code>sample(n)</code>.
</p>
<p>Each argument defines one node in the simulation. The argument syntax is unusual, using
<em>assignment</em>. For instance, an argument <code>y &lt;- 3*x + rnorm(n)</code> defines a node named <code>y</code>. The R code
on the RHS of the assignment operator (that is, <code>3*x + rnorm(n)</code> in the example) will
be used by <code>datasim_run()</code> to generate the <code>y</code> variable when the simulation is run. Nodes
defined by previous arguments can be used in the code for later arguments.
</p>
<p>Helper functions such as <code>mix_with()</code>, <code>categorical()</code>, and several others can be used within
the node to perform complex operations.
</p>
<p>Remember to use <em>commas</em> to separate the arguments in the normal way.
</p>


<h3>Value</h3>

<p>an object of class "datasim". Internally, this is a list of the R
assignment expressions used when running the simulation.
</p>


<h3>Examples</h3>

<pre><code class="language-R">Simple_sim &lt;- datasim_make(x &lt;- rnorm(n, sd=2), y &lt;- 3*x + rnorm(n))
Simple_sim |&gt; datasim_run(n = 5)
</code></pre>


</div>
<div class="container">

<table style="width: 100%;"><tr>
<td>UPSaltdd</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Artificial Distribution of LTDs from Random Clusters</h2>

<h3>Description</h3>

<p>For a given number of clusters, UPSaltdd() characterizes the potentially biased
distribution of "Local Treatment Differences" (LTDs) in a continuous outcome y-variable between
two treatment groups due to Random Clusterings.  When the NNobj argument is not NA and specifies
an existing UPSnnltd() object, UPSaltdd() also computes a smoothed CDF for the NN/LTD
distribution for direct comparison with the Artificial LTD distribution.
</p>


<h3>Usage</h3>

<pre><code class="language-R">UPSaltdd(
  envir,
  dframe,
  trtm,
  yvar,
  faclev = 3,
  scedas = "homo",
  NNobj = NA,
  clus = 50,
  reps = 10,
  seed = 12345
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>envir</code></td>
<td>
<p>name of the working local control classic environment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dframe</code></td>
<td>
<p>Name of data.frame containing a treatment-factor and the outcome y-variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trtm</code></td>
<td>
<p>Name of treatment factor variable with two levels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yvar</code></td>
<td>
<p>Name of continuous outcome variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>faclev</code></td>
<td>
<p>Maximum number of different numerical values an outcome variable can assume
without automatically being converted into a "factor" variable; faclev=1 causes a binary
indicator to be treated as a continuous variable determining an average or proportion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scedas</code></td>
<td>
<p>Scedasticity assumption: "homo" or "hete"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NNobj</code></td>
<td>
<p>Name of an existing UPSnnltd object or NA.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clus</code></td>
<td>
<p>Number of Random Clusters requested per Replication; ignored when NNobj is not NA.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reps</code></td>
<td>
<p>Number of overall Replications, each with the same number of requested clusters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>Seed for Monte Carlo random number generator.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Multiple calls to UPSaltdd() for different UPSnnltd objects or different numbers of
clusters are typically made after first invoking UPSgraph().
</p>


<h3>Value</h3>


<dl>
<dt>dframe</dt>
<dd>
<p>Name of data.frame containing X, t &amp; Y variables.</p>
</dd>
<dt>trtm</dt>
<dd>
<p>Name of treatment factor variable.</p>
</dd>
<dt>yvar</dt>
<dd>
<p>Name of outcome Y variable.</p>
</dd>
<dt>faclev</dt>
<dd>
<p>Maximum number of different numerical values an outcome variable can assume without
automatically being converted into a "factor" variable; faclev=1 causes a binary indicator to be
treated as a continuous variable determining an average or proportion.</p>
</dd>
<dt>scedas</dt>
<dd>
<p>Scedasticity assumption: "homo" or "hete"</p>
</dd>
<dt>NNobj</dt>
<dd>
<p>Name of an existing UPSnnltd object or NA.</p>
</dd>
<dt>clus</dt>
<dd>
<p>Number of Random Clusters requested per Replication.</p>
</dd>
<dt>reps</dt>
<dd>
<p>Number of overall Replications, each with the same number of requested clusters.</p>
</dd>
<dt>pats</dt>
<dd>
<p>Number of patients with no NAs in their yvar outcome and trtm factor.</p>
</dd>
<dt>seed</dt>
<dd>
<p>Seed for Monte Carlo random number generator.</p>
</dd>
<dt>altdd</dt>
<dd>
<p>Matrix of LTDs and relative weights from artificial clusters.</p>
</dd>
<dt>alxmin</dt>
<dd>
<p>Minimum artificial LTD value.</p>
</dd>
<dt>alxmax</dt>
<dd>
<p>Maximum artificial LTD value.</p>
</dd>
<dt>alymax</dt>
<dd>
<p>Maximum weight among artificial LTDs.</p>
</dd>
<dt>altdcdf</dt>
<dd>
<p>Vector of artificial LTD x-coordinates for smoothed CDF.</p>
</dd>
<dt>qq</dt>
<dd>
<p>Vector of equally spaced CDF values from 0.0 to 1.0.</p>
</dd>
<dt>nnltdd</dt>
<dd>
<p>Optional matrix of relevant NN/LTDs and relative weights.</p>
</dd>
<dt>nnlxmin</dt>
<dd>
<p>Optional minimum NN/LTD value.</p>
</dd>
<dt>nnlxmax</dt>
<dd>
<p>Optional maximum NN/LTD value.</p>
</dd>
<dt>nnlymax</dt>
<dd>
<p>Optional maximum weight among NN/LTDs.</p>
</dd>
<dt>nnltdcdf</dt>
<dd>
<p>Optional vector of NN/LTD x-coordinates for smoothed CDF.</p>
</dd>
<dt>nq</dt>
<dd>
<p>Optional vector of equally spaced CDF values from 0.0 to 1.0.</p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>Bob Obenchain &lt;wizbob@att.net&gt;
</p>


<h3>References</h3>


<ul>
<li>
<p> Obenchain RL. (2004) Unsupervised Propensity Scoring: NN and IV Plots.
<em>Proceedings of the American Statistical Association (on CD)</em> 8 pages.
</p>
</li>
<li>
<p> Obenchain RL. (2011) <b>USPSinR.pdf</b>  USPS R-package vignette, 40 pages.
</p>
</li>
<li>
<p> Rosenbaum PR, Rubin RB. (1983) The Central Role of the Propensity Score
in Observational Studies for Causal Effects. <em>Biometrika</em> <b>70</b>:
41-55.
</p>
</li>
<li>
<p> Rubin DB. (1980) Bias reduction using Mahalanobis metric matching.
<em>Biometrics</em> <b>36</b>: 293-298.
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>UPSnnltd</code>, <code>UPSaccum</code> and <code>UPSgraph</code>.
</p>


</div>
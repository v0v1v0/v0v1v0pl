<div class="container">

<table style="width: 100%;"><tr>
<td>tree_matching</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>3D matching of detected tree top positions with reference positions</h2>

<h3>Description</h3>

<p>First computes a matching index for each potential pair associating a detected
with a reference tree. This index is the 3D distance between detected and
reference points, divided by a maximum matching distance set by user-defined
parameters. Pairs with the lowest index are then iteratively associated.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tree_matching(lr, ld, delta_ground = 2.1, h_prec = 0.14, stat = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>lr</code></td>
<td>
<p>data.frame or matrix. 3D coordinates (X Y Height) of reference positions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ld</code></td>
<td>
<p>data.frame or matrix. 3D coordinates (X Y Height) of detected positions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta_ground</code></td>
<td>
<p>numeric. buffer around trunk position : absolute value</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h_prec</code></td>
<td>
<p>numeric. buffer around apex position : proportion of reference
tree height</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stat</code></td>
<td>
<p>boolean. should matching stats be computed</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data.frame with matched pairs (row of reference positions in first
column, and row of detected positions in second column) and corresponding 3D
distances
</p>


<h3>References</h3>

<p>Monnet, J.-M. 2011. Using airborne laser scanning for mountain
forests mapping: Support vector regression for stand parameters estimation
and unsupervised training for treetop detection. Ph.D. thesis. University of
Grenoble, France. pp. 53-55 <a href="https://theses.hal.science/tel-00652698/document">https://theses.hal.science/tel-00652698/document</a>
</p>
<p>Monnet, J.-M., Mermin, E., Chanussot, J., Berger, F. 2010. Tree top detection
using local maxima filtering: a parameter sensitivity analysis. Silvilaser 2010,
the 10th International Conference on LiDAR Applications for Assessing Forest
Ecosystems, September 14-17, Freiburg, Germany, 9 p. <a href="https://hal.science/hal-00523245/document">https://hal.science/hal-00523245/document</a>
</p>


<h3>See Also</h3>

<p><code>plot_matched</code>, <code>hist_detection</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># create reference and detected trees
ref_trees &lt;- cbind(c(1, 4, 3, 4, 2), c(1, 1, 2, 3, 4), c(15, 18, 20, 10, 11))
def_trees &lt;- cbind(c(2, 2, 4, 4), c(1, 3, 4, 1), c(16, 19, 9, 15))
#
# match trees
match1 &lt;- tree_matching(ref_trees, def_trees)
match2 &lt;- tree_matching(ref_trees, def_trees, delta_ground = 2, h_prec = 0)
match1
match2

# 2D display of matching result
plot_matched(ref_trees, def_trees, match1, xlab = "X", ylab = "Y")
plot_matched(ref_trees, def_trees, match2, xlab = "X", ylab = "Y")
</code></pre>


</div>
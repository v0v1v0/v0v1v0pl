<div class="container">

<table style="width: 100%;"><tr>
<td>fold_in</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Ex-post folding-in of textmatrices into an existing latent semantic space</h2>

<h3>Description</h3>

<p>Additional documents can be mapped into a pre-exisiting
latent semantic space without influencing the factor
distribution of the space. Applied, when additional documents 
must not influence the calculated existing latent semantic 
factor structure.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fold_in( docvecs, LSAspace )
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>LSAspace</code></td>
<td>
<p>a latent semantic space generated by createLSAspace.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>docvecs</code></td>
<td>
<p>a textmatrix.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>To keep additional documents from influencing the factor distribution
calculated previously from a particular text basis, they can be folded-in 
after the singular value decomposition performed in <code>lsa()</code>.
</p>
<p>Background Information:
For folding-in, a pseudo document vector <code>mi</code> of the new documents 
is calculated into as shown in the equations (1) and (2) (cf. Berry et al., 1995):
</p>
<p>(1) <code class="reqn">\hat{d} = v^T T_k S_k^{-1}</code>
</p>
<p>(2) <code class="reqn">\hat{m} = T_k S_k \hat{d}</code>
</p>
<p>The document vector <code class="reqn">v^T</code> in equation~(1) is identical to an additional 
column of an input textmatrix <code class="reqn">M</code> with the term frequencies of the 
essay to be folded-in. <code class="reqn">T_k</code> and <code class="reqn">S_k</code> are the truncated matrices 
from the SVD applied through <code>lsa()</code> on a given text 
collection to construct the latent semantic space. The resulting vector
<code class="reqn">\hat{m}</code> from equation~(2) is identical to an additional column in the
textmatrix representation of the latent semantic space (as produced by 
<code>as.textmatrix()</code>). Be careful when using weighting schemes: you
may want to use the global weights of the training textmatrix also for
your new data that you fold-in!
</p>


<h3>Value</h3>

<table><tr style="vertical-align: top;">
<td><code>textmatrix</code></td>
<td>
<p>a textmatrix representation of the additional documents in the latent semantic space.</p>
</td>
</tr></table>
<h3>Author(s)</h3>

<p> Fridolin Wild <a href="mailto:f.wild@open.ac.uk">f.wild@open.ac.uk</a> </p>


<h3>See Also</h3>

 <p><code>textmatrix</code>, <code>lsa</code>, <code>as.textmatrix</code> </p>


<h3>Examples</h3>

<pre><code class="language-R">
# create a first textmatrix with some files
td = tempfile()
dir.create(td)
write( c("dog", "cat", "mouse"), file=paste(td, "D1", sep="/") )
write( c("hamster", "mouse", "sushi"), file=paste(td, "D2", sep="/") )
write( c("dog", "monster", "monster"), file=paste(td, "D3", sep="/") )
matrix1 = textmatrix(td, minWordLength=1)
unlink(td, recursive=TRUE)

# create a second textmatrix with some more files
td = tempfile()
dir.create(td)
write( c("cat", "mouse", "mouse"), file=paste(td, "A1", sep="/") )
write( c("nothing", "mouse", "monster"), file=paste(td, "A2", sep="/") )
write( c("cat", "monster", "monster"), file=paste(td, "A3", sep="/") )
matrix2 = textmatrix(td, vocabulary=rownames(matrix1), minWordLength=1)
unlink(td, recursive=TRUE)

# create an LSA space from matrix1
space1 = lsa(matrix1, dims=dimcalc_share())
as.textmatrix(space1)

# fold matrix2 into the space generated by matrix1
fold_in( matrix2, space1)

</code></pre>


</div>
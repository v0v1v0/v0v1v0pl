<div class="container">

<table style="width: 100%;"><tr>
<td>Person</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>A <code>Person</code> object is a complete view of an individual over a certain
time period, as seen through data from multiple sources</h2>

<h3>Description</h3>

<p><code>Person</code> is an object that encapsulates an individual's 
data over a specified date range (start and end date stored as <code>Date</code> 
objects.
An individual consists of basic information, such as name, age,
and gender (a <code>list</code> with named elements), data from their self-tracking 
devices such as Fitbit, Apple health, etc. (data from each source is a tibble
dataframe), individual goals such as target steps (<code>numeric</code>), 
additional data from self-tracking apps or one's own collection system 
(stored as a tibble dataframe), and ways of grouping the data a user may be 
interested in, such as grouping by seasons, or comparing weekend to weekday 
behavior and health (stored as a list of named dataframes, which each contain 
group assignments).
</p>


<h3>Usage</h3>

<pre><code class="language-R">Person
</code></pre>


<h3>Format</h3>

<p>An <code>R6Class</code> generator object</p>


<h3>Fields</h3>


<dl>
<dt><code>fitbit_daily</code></dt>
<dd>
<p>tibble dataframe of fitbit variables (for user account
info provided) observed daily.
Columns include:
</p>

<ul>
<li>
<p>date: unique for each row (date)
</p>
</li>
<li>
<p>datetime: includes date and time, time is an arbitrary 
time, which is consistent for each day (date)
</p>
</li>
<li>
<p>dateInForJavascriptLocalFormatting: chr
</p>
</li>
<li>
<p>steps: total number of steps for that day (dbl)
</p>
</li>
<li>
<p>distance: total distance for that day, in miles (dbl)
</p>
</li>
<li>
<p>distanceKm: total distance for that day, in kilometers 
(dbl)
</p>
</li>
<li>
<p>floors: total number of floors for that day (dbl)
</p>
</li>
<li>
<p>minutesVery: minutes 'very active' that day (dbl)
</p>
</li>
<li>
<p>caloriesBurned: calories (kcal) burned that day (dbl)
</p>
</li>
<li>
<p>caloriesIntake: calories (kcal) consumed that day, user
must input this, either into this data frame or into the fitbit 
(dbl)
</p>
</li>
<li>
<p>restingHeartRate: resting heart rate in beats per minute 
(bpm) (dbl)
</p>
</li>
<li>
<p>startTime: sleeping start time for that day (chr)
</p>
</li>
<li>
<p>endTime: sleeping end time for that day (chr)
</p>
</li>
<li>
<p>startDateTime: sleeping start date and time for that day
(chr)
</p>
</li>
<li>
<p>endDateTime: sleeping end date and time for that day (chr)
</p>
</li>
<li>
<p>sleepDuration: sleep duration for that day, in minutes 
(int)
</p>
</li>
<li>
<p>sleepDurationHrs: sleep duration for that day, in hours 
(dbl)
</p>
</li>
<li>
<p>minAsleep: time asleep that day, in minutes (int)
</p>
</li>
<li>
<p>minAsleepHrs: time asleep that day, in hours, derived from 
minAsleep (dbl)
</p>
</li>
<li>
<p>minRestlessAwake: <code class="reqn">sleepDuration - awakeCount</code> (int)
</p>
</li>
<li>
<p>awakeCount: int
</p>
</li>
<li>
<p>restlessCount: int
</p>
</li>
<li>
<p>awakeDuration: int
</p>
</li>
<li>
<p>restlessDuraton: int
</p>
</li>
<li>
<p>restlessProp: proportion of sleep spent restless, 
calculated as <code class="reqn">restlessProp = (sleepDurationHrs - 
     minAsleepHrs) / sleepDurationHrs * 100</code> (dbl)
</p>
</li>
<li>
<p>sleepQualityScoreB: dbl
</p>
</li>
<li>
<p>sleepQualityScoreA: int
</p>
</li>
<li>
<p>sleepQualityGraphicPercentA: dbl
</p>
</li>
<li>
<p>sleepQualityGraphicPercentB: dbl
</p>
</li>
<li>
<p>sleepBucketTextB: one of "ok", "good", "great" (chr)
</p>
</li>
<li>
<p>sleepBucketTextA: one of "ok", "good", "great" (chr)
</p>
</li>
<li>
<p>clusters: list of chr
</p>
</li>
<li>
<p>breaks: list of chr
</p>
</li>
</ul>
</dd>
<dt><code>fitbit_intraday</code></dt>
<dd>
<p>tibble dataframe of fitbit variables (for user account
info provided) observed multiple times a day.
Columns include:
</p>

<ul>
<li>
<p>date: unique for each row (date)
</p>
</li>
<li>
<p>time: a combination of an arbitrary date ("1970-01-01") 
and the time of the observation, generally in 5 minute intervals 
(dttm)
</p>
</li>
<li>
<p>datetime: includes date from 'date' and time from 'time'
(dttm)
</p>
</li>
<li>
<p>steps: number of steps in 15 minute interval (dbl)
</p>
</li>
<li>
<p>distance: distance traveled in 15 minute interval, in 
miles (dbl)
</p>
</li>
<li>
<p>distanceKm: distance traveled in 15 minute interval, in
kilometers (dbl)
</p>
</li>
<li>
<p>floors: number of floors went up and down in 15 minute
interval (dbl)
</p>
</li>
<li>
<p>activeMin: number of active minutes in 15 minute 
interval (dbl)
</p>
</li>
<li>
<p>activityLevel:  hypothesized activity level, one of: 
"SEDENTARY", "LIGHTLY_ACTIVE", "MODERATELY_ACTIVE", or 
"VERY_ACTIVE" (chr)
</p>
</li>
<li>
<p>bpm: average heart rate in 5 minute interval (int)
</p>
</li>
<li>
<p>confidence: one of -1, 1, 2, or 3 (int)
</p>
</li>
<li>
<p>caloriesBurned: calories (kcal) burned in 5 minute 
interval (dbl)
</p>
</li>
<li>
<p>defaultZone: chr
</p>
</li>
<li>
<p>customZone: lgl
</p>
</li>
<li>
<p>weight: weight, in lbs (dbl)
</p>
</li>
<li>
<p>weightKg: weight, in kg (dbl)
</p>
</li>
</ul>
</dd>
<dt><code>util</code></dt>
<dd>
<p>tibble dataframe that maps each date in the date range to utility
information about that date
Columns include:
</p>

<ul>
<li>
<p>date: unique for each row (date)
</p>
</li>
<li>
<p>datetime: date from 'date' and an arbitrary time (16:00:00)
(dttm)
</p>
</li>
<li>
<p>day_of_week: day of the week, with Sun as first (ord)
</p>
</li>
<li>
<p>day_type: weekend or weekday (fctr)
</p>
</li>
<li>
<p>month: month, with Jan as first (ord)
</p>
</li>
</ul>
</dd>
<dt><code>target_steps</code></dt>
<dd>
<p>the person's target number of steps (numeric) for each
day (default 10,000)</p>
</dd>
<dt><code>start_date</code></dt>
<dd>
<p>start of user's date range of interest (Date object)</p>
</dd>
<dt><code>end_date</code></dt>
<dd>
<p>end of user's date range of interest (Date object)</p>
</dd>
<dt><code>user_info</code></dt>
<dd>
<p>provided user info, such as "age", "gender", "name" (list)</p>
</dd>
<dt><code>groupings</code></dt>
<dd>
<p>named list of dataframes, each with two columns - a known 
variable, and group, with the group assignment for observations where 
that variable has appropriate value</p>
</dd>
<dt><code>apple</code></dt>
<dd>
<p>tibble dataframe of user's provided Apple Health data.  These
columns depend on which columns are passed in by the user.  However,
these columns match fitbit columns:
</p>

<ul>
<li>
<p>datetime: dttm
</p>
</li>
<li>
<p>steps: Original steps data for total number of steps in 60 
minutes, but divided by 4 to match fitbit steps data, which is
the total number of steps in 15 minutes (dbl)
</p>
</li>
<li>
<p>distance: Average distance in 15 minutes in miles.  
Original distance data for total distance in 60 minutes, 
but divided by 4 to match fitbit distance data, which is the total 
distance in 15 minutes (dbl)
</p>
</li>
<li>
<p>distanceKm: Average distance in 15 minutes in km.  
Original distance data for total distance in 60 minutes, 
but divided by 4 to match fitbit distance data, which is the total 
distance in 15 minutes (dbl)
</p>
</li>
<li>
<p>floors: Average number of floors in 15 minutes.  
Original floors data for total number
of floors in 60 minutes, but divided by 4 to match fitbit floors 
data, which is the total number of floors in 15 minutes(dbl)
</p>
</li>
<li>
<p>bpm: average heart rate for the given hour, most users will
not have this data (dbl)
</p>
</li>
</ul>
</dd>
<dt><code>addl_data</code></dt>
<dd>
<p>dataframe of data from another source provided by user</p>
</dd>
<dt><code>addl_data2</code></dt>
<dd>
<p>dataframe of data from another source provided by user</p>
</dd>
</dl>
<h3>Methods</h3>


<dl>
<dt><code>Person$new(fitbit_user_email, fitbit_user_pw, user_info = NA,
                          apple_data_file, target_steps, addl_data,
                          addl_data2, group_assignments, start_date, 
                          end_date)</code></dt>
<dd>
<p>Creates a new <code>Person</code>
with specified data, and data from provided Fitbit account. If 
provided, start_date and end_date must be characters with "
All defaults are <code>NA</code> - user can provide sources of data
of interest.</p>
</dd>
</dl>
<h3>Examples</h3>

<pre><code class="language-R">library("lifelogr")
 
group_months &lt;- data.frame("month" = c("Jan", "Feb", "Mar", "Apr", "May",
                                       "Jun", "Jul", "Aug",
                                       "Sep", "Oct", "Nov", "Dec"),
                                       "group" = c(0, 0, 0, 1, 1, 1, 1, 1, 
                                                   1, 0, 0, 0))
ash &lt;- Person$new(user_info = list("name" = "Ash", "age" = 26,
                    "gender" = "female"), 
                    target_steps = 20000,
                    group_assignments = list("group_months" = group_months),
                    start_date = "2017-03-11",
                    end_date = "2017-03-12")

## Not run:                 
bailey &lt;- Person$new(fitbit_user_email = "bailey@gmail.com",
                 fitbit_user_pw = "baileypw",
                 #apple_data_file = "apple.csv",
                 start_date = "2017-03-11",
                 end_date = "2017-03-12")
## End(Not run)
                 
</code></pre>


</div>
<div class="container">

<table style="width: 100%;"><tr>
<td>RecentNearbySpecies</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Retrieve recent nearby observations of a species</h2>

<h3>Description</h3>

<p>Retrieve recent nearby observations of a species
</p>


<h3>Usage</h3>

<pre><code class="language-R">RecentNearbySpecies(
  key,
  species_code,
  lat = 32.241,
  lng = -110.938,
  dist = 50,
  back = 4,
  hotspot = TRUE,
  include_provisional = FALSE,
  max_tries = 5,
  timeout_sec = 30,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>key</code></td>
<td>
<p>Character eBird API key.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>species_code</code></td>
<td>
<p>Species code for species of interest; usually a
six-character string such as "purmar" or "batpig". See
<a href="https://science.ebird.org/en/use-ebird-data/the-ebird-taxonomy/">https://science.ebird.org/en/use-ebird-data/the-ebird-taxonomy/</a> for 
more information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lat</code></td>
<td>
<p>Numeric decimal degree latitude; use negative values for southern 
latitudes (i.e. -46.86, <em>not</em> "46.86 S").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lng</code></td>
<td>
<p>Numeric decimal degree longitude; use negative values for western
longitudes (i.e. -72.08, <em>not</em> "72.08 W").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist</code></td>
<td>
<p>Numeric radius in kilometers of distance from geographic center 
point given by <code>lat</code> and <code>lng</code> from which to return recent 
observations of a species.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>back</code></td>
<td>
<p>Integer number of days back to search for observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hotspot</code></td>
<td>
<p>Logical indicating whether or not to restrict results to
hotspot locations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include_provisional</code></td>
<td>
<p>Logical indicating whether or not to include
observations which have not yet been reviewed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_tries</code></td>
<td>
<p>Integer maximum number of query attempts to try.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeout_sec</code></td>
<td>
<p>Integer time to allow before query is aborted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical determining whether or not to print messages during
queries.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function uses the eBird API (see <a href="https://documenter.getpostman.com/view/664302/S1ENwy59/">https://documenter.getpostman.com/view/664302/S1ENwy59/</a>)
to query recent sightings of a species. Queries to the eBird API require a 
user key; you can request an eBird API key by logging into your eBird 
account and navigating to <a href="https://ebird.org/api/keygen/">https://ebird.org/api/keygen/</a>. See examples 
and vignette for using your eBird API key.
</p>


<h3>Value</h3>

<p>An object of class "recent_obs" with the following elements:
</p>

<dl>
<dt>query_type</dt>
<dd>
<p>The type of query performed.</p>
</dd>
<dt>query_parameters</dt>
<dd>
<p>List of query parameters passed in request,
including the species code.</p>
</dd>
<dt>obs</dt>
<dd>
<p>Data frame of observations returned from query; if no
observations are returned, <code>obs</code> is <code>NULL</code>. Columns include:</p>
</dd>
</dl>
<dl>
<dt>speciesCode</dt>
<dd>
<p>The (usually) six-letter species code, see 
<a href="https://science.ebird.org/en/use-ebird-data/the-ebird-taxonomy/">https://science.ebird.org/en/use-ebird-data/the-ebird-taxonomy/</a></p>
</dd>
<dt>comName</dt>
<dd>
<p>Species' common name.</p>
</dd>
<dt>sciName</dt>
<dd>
<p>Species' scientific name.</p>
</dd>
<dt>locId</dt>
<dd>
<p>eBird identifier of the location.</p>
</dd>
<dt>locName</dt>
<dd>
<p>Name of the location.</p>
</dd>
<dt>obsDt</dt>
<dd>
<p>Observation date as character string in the format 
"YYYY-MM-DD HH:MM".</p>
</dd>
<dt>howMany</dt>
<dd>
<p>Number of individuals.</p>
</dd>
<dt>lat</dt>
<dd>
<p>Decimal latitude.</p>
</dd>
<dt>lng</dt>
<dd>
<p>Decimal longitude.</p>
</dd>
<dt>obsValid</dt>
<dd>
<p>Logical indicating if observation marked as valid.</p>
</dd>
<dt>obsReviewed</dt>
<dd>
<p>Logical indicating if observation has been reviewed.</p>
</dd>
<dt>locationPrivate</dt>
<dd>
<p>Logical indicating whether or not location is 
designated as private.</p>
</dd>
<dt>subId</dt>
<dd>
<p>Checklist ID for this observation.</p>
</dd>
</dl>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
  # Read eBird key in from file
  key &lt;- scan(file = "ebird-key.txt", what = "character")
  # Search for observations of Verdin within 5 km from lat/lng coordinates
  recent &lt;- RecentNearbySpecies(key = key, species_code = "verdin",
                                lat = 32.28, lng = -111.02, dist = 5)

## End(Not run)
</code></pre>


</div>
<div class="container">

<table style="width: 100%;"><tr>
<td>get.asymp.power</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>A Bootstrap Proportion Test for Brand Lift Testing (Liu et al., 2023)</h2>

<h3>Description</h3>

<p>This function generates the asymptotic power of the proposed
bootstrap test. Two methods are provided: the asymptotic power based on
the relative lift and the asymptotic power the absolute lift.
For more details, please refer to the paper Liu et al., (2023).
</p>


<h3>Usage</h3>

<pre><code class="language-R">get.asymp.power(n1, n2, p1, p2, method='relative', alpha=0.05)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n1</code></td>
<td>
<p>sample size of the control group</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n2</code></td>
<td>
<p>sample size of the treatment group</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p1</code></td>
<td>
<p>success probability of the control group</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p2</code></td>
<td>
<p>success probability of the treatment group</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>two methods are provided: method =
c(<code class="reqn">\texttt{`relative'}, \texttt{`absolute'}</code>).
<code class="reqn">\texttt{`relative'}</code> means min sample size based on the relative lift.
<code class="reqn">\texttt{`absolute'}</code> means min sample size based on the absolute lift.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>significance level. By default alpha = 0.05.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Let <code class="reqn">N = n_1 + n_2</code> and <code class="reqn">\kappa = n_1/N</code>. We define
</p>
<p style="text-align: center;"><code class="reqn">
     \sigma_{a,n} = \sqrt{n_1^{-1}p_1(1-p_1) + n_2^{-1}p_2(1-p_2)},
 </code>
</p>

<p style="text-align: center;"><code class="reqn">
     \bar\sigma_{a,n} = \sqrt{(n_1^{-1} +  n_2^{-1})\bar p(1-\bar p)}.
 </code>
</p>

<p>where <code class="reqn">\bar p = \kappa p_1 + (1-\kappa) p_2</code>. <code class="reqn">\sigma_{a,n}</code>
is the standard deviation of the absolute lift and
<code class="reqn">\bar\sigma_{a,n}</code> can be viewed as the standard deviation of
the combined sample of the control and treatment groups.
Let <code class="reqn">\delta_a = p_2 - p_1</code> be the absolute lift.
The asymptotic power function based on the absolute lift is given by
</p>
<p style="text-align: center;"><code class="reqn">
    \beta_{Absolute}(\delta_a) \approx \Phi\left( -cz_{\alpha/2} + 
    \frac{\delta_a}{\sigma_{a,n}} \right) + \Phi\left( -cz_{\alpha/2} - 
    \frac{\delta_a}{\sigma_{a,n}} \right).
</code>
</p>

<p>The asymptotic power function based on the relative lift is given by
</p>
<p style="text-align: center;"><code class="reqn">
    \beta_{Relative}(\delta_a) \approx \Phi 
    \left( -cz_{\alpha/2} \frac{p_0}{\bar p} + 
    \frac{\delta_a}{\sigma_{a,n}} \right) + 
    \Phi \left( -cz_{\alpha/2} \frac{p_0}{\bar p} - 
    \frac{\delta_a}{\sigma_{a,n}} \right),
</code>
</p>

<p>where <code class="reqn">\Phi(\cdot)</code> is the CDF of the standard normal distribution <code class="reqn">N(0,1)</code>,
<code class="reqn">z_{\alpha/2}</code> is the upper <code class="reqn">(1-\alpha/2)</code> quantile of <code class="reqn">N(0,1)</code>,
and <code class="reqn">c = {\bar\sigma_{a,n}}/\sigma_{a,n}</code>.
</p>


<h3>Value</h3>

<p>Return the asymptotic power
</p>


<h3>References</h3>

<p>Wanjun Liu, Xiufan Yu, Jialiang Mao, Xiaoxu Wu, and Justin Dyer. 2023.
Quantifying the Effectiveness of Advertising: A Bootstrap Proportion Test
for Brand Lift Testing. <em>In Proceedings of the 32nd ACM International Conference
on Information and Knowledge Management (CIKM â€™23)</em>
</p>


<h3>Examples</h3>

<pre><code class="language-R">n1 &lt;- 100; n2 &lt;- 100; p1 &lt;- 0.1; p2 &lt;- 0.2
get.asymp.power(n1, n2, p1, p2, method='relative')
</code></pre>


</div>
<div class="container">

<table style="width: 100%;"><tr>
<td>succ_ia</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Conditional power and predictive power of success based on interim results using normal-normal approximation
</h2>

<h3>Description</h3>

<p>This function can be used to determine conditional power and predictive power for trial success and clinical success based on the interim results and prior distribution for each of continuous, binary  and time-to-event endpoints. The calculation is carried out assuming normal distribution for estimated parameter and normal prior distribution.
</p>


<h3>Usage</h3>

<pre><code class="language-R">succ_ia(type, nsamples, null.value = NULL, alternative = NULL, 
        N = NULL, n = NULL, D = NULL, d = NULL, a = 1, 
        meandiff.ia = NULL, mean.ia = NULL, 
        propdiff.ia = NULL, prop.ia = NULL, hr.ia = NULL, 
        stderr.ia = NULL, sd.ia = NULL, 
        succ.crit = "trial", Z.crit.final = 1.96, 
        alpha.final = 0.025, clin.succ.threshold = NULL, 
        meandiff.exp = NULL, mean.exp = NULL, 
        propdiff.exp = NULL, prop.exp = NULL, hr.exp = NULL, 
        meandiff.prior = NULL, mean.prior = NULL, sd.prior = NULL, 
        propdiff.prior = NULL, prop.prior = NULL, hr.prior = NULL, D.prior = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Type of the endpoint. It could be <code>cont</code> for continuous, <code>bin</code> for binary and <code>surv</code> for survival endpoint.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsamples</code></td>
<td>
<p>Number of samples. For continuous and binary case, it can be 1 or 2. For survival endpoint, it can be only 2. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>null.value</code></td>
<td>
<p>The specified value under null hypothesis. Default is 0 for continuous and binomial case and 1 for survival case.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative</code></td>
<td>
<p>Direction of alternate hypothesis. Can be "greater" or "less". Default is "less" for test of HR and "greater" otherwise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>Total sample size at final analysis. Cannot be missing for continuous and binary endpoint.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Total sample size at interim analysis. Cannot be missing for continuous and binary endpoint.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>D</code></td>
<td>
<p>Total number of events at final analysis. Cannot be missing for survival endpoint.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>
<p>Total number of events at interim analysis. Cannot be missing for survival endpoint.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>
<p>Allocation ratio in two sample case.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>meandiff.ia</code></td>
<td>
<p>Estimated mean difference at interim analysis. Mandatory for continuous two sample case.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mean.ia</code></td>
<td>
<p>Estimated mean value at interim analysis. Mandatory for continuous single sample case</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>propdiff.ia</code></td>
<td>
<p>Estimated difference in proportion at interim analysis. Mandatory for binary two sample case</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prop.ia</code></td>
<td>
<p>Estimated proportion at interim analysis. Mandatory for binary single sample case</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hr.ia</code></td>
<td>
<p>Estimate hazards ratio (HR) at interim analysis. Mandatory for continuous single sample case</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stderr.ia</code></td>
<td>
<p>Standard error (SE) of estimated mean difference (in one-sample continuous  case) or estimated mean (in two-sample continuous case) or estimated difference in proportion (in two-sample binary case) at interim analysis. For continuous case, if not specified, then the function attempts to estimate SE  from <code>sd.ia</code>. Mandatory for two-sample binary case.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sd.ia</code></td>
<td>
<p>Standard deviation of estimated mean difference (in one-sample continuous  case) or estimated mean (in two-sample continuous case) at interim analysis. If <code>stderr.ia</code> is specified, then the value of <code>sd.ia</code> is ignored. If codestderr.ia is not specified, then mandatory for continuous case.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>succ.crit</code></td>
<td>
<p>Specify "trial" for trial success (i.e., null hypothesis is rejected at final analysis) or "clinical" for clinical success (i.e., estimated value at the final analysis is greater than clinically meaningful value as specified under <code>clin.succ.threshold</code>.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Z.crit.final</code></td>
<td>
<p>The rejection boundary at final analysis in Z-value scale. Either <code>alpha.final</code> or <code>Z.crit.final</code> must be specified when determining trial success.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha.final</code></td>
<td>
<p>The rejection boundary at final analysis in alpha (1-sided) scale (e.g., 0.025). Either <code>alpha.final</code> or <code>Z.crit.final</code> must be specified when determining trial success.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clin.succ.threshold</code></td>
<td>
<p>Clinically meaningful value. Required when <code>succ.crit="clinical"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>meandiff.exp</code></td>
<td>
<p>Expected mean difference in post interim data. Relevant for two-sample continuous case.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mean.exp</code></td>
<td>
<p>Expected mean in post interim data. Relevant for one-sample continuous case.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>propdiff.exp</code></td>
<td>
<p>Expected difference in proportion in post interim data. Relevant for two-sample binary case.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prop.exp</code></td>
<td>
<p>Expected proportion in post interim data. Relevant for one-sample binary case.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hr.exp</code></td>
<td>
<p>Expected hazards ratio (HR) in post interim data. Relevant for two-sample survival case.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>meandiff.prior</code></td>
<td>
<p>Mean value of prior distribution for mean difference. Relevant for two-sample continuous case.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mean.prior</code></td>
<td>
<p>Mean value of prior distribution for mean. Relevant for one-sample continuous case.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sd.prior</code></td>
<td>
<p>Standard deviation of prior distribution for mean difference (2-sample continuous case) or mean (1-sample continuous case) or prop (2-sample binary case) or difference of proportion (1-sample binary case) or log(HR) (2 sample survival case). </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>propdiff.prior</code></td>
<td>
<p>Mean value of prior distribution for difference in proportion. Relevant for two-sample binomial case.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prop.prior</code></td>
<td>
<p>Mean value of prior distribution for proportion. Relevant for one-sample binomial case.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hr.prior</code></td>
<td>
<p>Mean value of prior distribution for hazards ratio (HR). Relevant for two-sample survival case.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>D.prior</code></td>
<td>
<p>Ignored if <code>sd.prior</code> is specified. If <code>sd.prior</code> is not specified then sd.prior is determined as 2/<code>D.prior</code>. Relevant for two-sample survival case.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function can be used to determine Conditional power (CP) and Predictive power or predictive probability of success (PPoS) based on the interim results for each of continuous (one-sample or two-samples), binary (one-sample or two-samples) and time-to-event endpoints (two-samples). The PPoS can be  based on interim results only or using both prior information and interim results. The calculation of CP and PPoS are carried out assuming normal distribution for estimated parameter and normal prior distribution. This function can be used to determine clinical success (<code>succ.crit="clinical"</code>) and trial success (<code>succ.crit="trial"</code>). For clinical success, <code>clin.succ.threshold</code> must be specified. For trial success, <code>Z.crit.final or alpha.final</code> must be specified.
</p>
<p>In order to calculate CP and PPoS, <code>succ.ia()</code> should be invoked in the following form:
</p>
<p>Continuous-two sample case (trial success): 
</p>
<p><code>succ.ia(type="cont", nsamples=2, null.value=, alternative=,  N=, n=, a, meandiff.ia, stderr.ia=, succ.crit="trial", Z.crit.final=)</code>
</p>
<p>Continuous-two sample case (clinical success): 
</p>
<p><code>succ.ia(type="cont", nsamples=2, null.value=, alternative=,  N=, n=, a, meandiff.ia, stderr.ia=, succ.crit="clinical", clin.succ.threshold=)</code>
</p>
<p>Continuous-one sample case (trial success): 
</p>
<p><code>succ.ia(type="cont", nsamples=1, null.value=, alternative=,  N=, n=, mean.ia, stderr.ia=, succ.crit="trial", Z.crit.final=)</code>
</p>
<p>Continuous-one sample case (clinical success): 
</p>
<p><code>succ.ia(type="cont", nsamples=1, null.value=, alternative=,  N=, n=, mean.ia, stderr.ia=, succ.crit="clinical", clin.succ.threshold=)</code>
</p>
<p>Binary-two sample case (trial success): 
</p>
<p><code>succ.ia(type="bin", nsamples=2, null.value=, alternative=,  N=, n=, a, propdiff.ia, stderr.ia=, succ.crit="trial", Z.crit.final=)</code>
</p>
<p>Binary-two sample case (clinical success): 
</p>
<p><code>succ.ia(type="bin", nsamples=2, null.value=, alternative=,  N=, n=, a, propdiff.ia, stderr.ia=, succ.crit="clinical", clin.succ.threshold=)</code>
</p>
<p>Binary-one sample case (trial success): 
</p>
<p><code>succ.ia(type="bin", nsamples=1, null.value=, alternative=,  N=, n=, prop.ia, succ.crit="trial", Z.crit.final=)</code>
</p>
<p>Binary-one sample case (clinical success): 
</p>
<p><code>succ.ia(type="bin", nsamples=1, null.value=, alternative=,  N=, n=, prop.ia, succ.crit="clinical", clin.succ.threshold=)</code>
</p>
<p>Survival-two sample case (trial success): 
</p>
<p><code>succ.ia(type="surv", nsamples=2, null.value=, alternative=,  D=, d=, a, hr.ia, succ.crit="trial", Z.crit.final=)</code>
</p>
<p>Survival-two sample case (clinical success): 
</p>
<p><code>succ.ia(type="surv", nsamples=2, null.value=, alternative=,  D=, d=, a, hr.ia, succ.crit="clinical", clin.succ.threshold=)</code>
</p>
<p>The conditional power is calculated assuming interim trend for post-interim data. If <code>meandiff.exp</code> (for continuous 2-samples case), <code>mean.exp</code> (for continuous 1-sample case), <code>propdiff.exp</code> (for binomial 2-samples case), <code>prop.exp</code> (for binomial 1-sample case), or <code>hr.exp</code> (for survival 2-samples case) is specified, then conditional power would be calculated using these specified value as well.
</p>
<p>The Predictive power or Predictive probability of success (PPoS) is calculated based interim results. On top of this, it can also incorporate prior information. The prior information can be specified as follows: If <code>meandiff.prior, sd.prior</code> for continuous 2-samples case, <code>mean.prior, sd.prior</code> for continuous 1-sample case, <code>propdiff.prior, sd.prior</code> for binomial 2-samples case, <code>prop.prior, sd.prior</code> for binomial 1-sample case, and <code>hr.exp, sd.prior</code> (or, <code>hr.exp, D.prior</code>) for survival 2-samples case. 
</p>


<h3>Author(s)</h3>

<p>Madan Gopal Kundu &lt;madan_g.kundu@yahoo.com&gt;</p>


<h3>References</h3>

<p>Kundu, M. G., Samanta, S., and Mondal, S. (2021). An introduction to the determination of the probability of a successful trial: Frequentist and Bayesian approaches. arXiv preprint arXiv:2102.13550.
</p>


<h3>See Also</h3>

<p><code>succ_ia_betabinom_one</code>, <code>succ_ia_betabinom_two</code>, <code>PoS</code>   </p>


<h3>Examples</h3>

<pre><code class="language-R">#--- Lan et al. (2009), see #6. Example, outcome: Matching
succ_ia(type="cont", nsamples=1, null.value=0, alternative="greater", 
        N=225, n=45,   
        mean.ia=0, stderr.ia=1,       
        succ.crit="trial", Z.crit.final=1.96) 


#--- Dallow et al. (2011), see Figure 1. Example, outcome: Matching
succ_ia(type="cont", nsamples=1, null.value=0, alternative="greater", 
        N=100, n=50,   
        mean.ia=1.364, stderr.ia=1,      
        succ.crit="trial",  Z.crit.final=1.64) 

#--- Example 1 in the paper (Continuous endpoint)
succ_ia(type="cont", nsamples=2, null.value=-0.05, alternative="greater",
        N=1552, n=776, a=1,   
        meandiff.ia=-0.025, sd.ia=0.16,      
        succ.crit="trial", Z.crit.final=1.97,  
        meandiff.exp=-0.030,
        meandiff.prior=0, sd.prior=0.02) 

#--- Example 2 in the paper (Binary endpoint)
p1&lt;- 0.379; p2&lt;- 0.222
n1&lt;- 105; n2&lt;- 53

#-- Trial success
succ_ia(type="bin", nsamples=2, null.value=0, alternative="greater",
        N=210, n=158,  a=2,
        propdiff.ia=p1-p2,
        stderr.ia=sqrt(p1*(1-p1)/n1 + p2*(1-p2)/n2), 
        succ.crit="trial", Z.crit.final=2.012,
        propdiff.exp=0.20,
        propdiff.prior=0.20, sd.prior=sqrt(0.06))  

#-- Clinical success
succ_ia(type="bin", nsamples=2, null.value=0, alternative="greater",
        N=210, n=158,  a=2,
        propdiff.ia=p1-p2,
        stderr.ia=sqrt(p1*(1-p1)/n1 + p2*(1-p2)/n2), 
        succ.crit="clinical", clin.succ.threshold=0.15,
        propdiff.exp=0.20,
        propdiff.prior=0.20, sd.prior=sqrt(0.06)) 


#--- Example 3 in the paper (Survival endpoint)

#--- Trial success
succ_ia(type="surv", nsamples=2, null.value=1, alternative="less", 
        D=441, d=346, a=1,   
        hr.ia=0.82,        
        succ.crit="trial", Z.crit.final=2.012,            
        hr.exp=0.75,
        hr.prior=0.71, D.prior=133) 

#--- clinical success
succ_ia(type="surv", nsamples=2, null.value=1, alternative="less", 
        D=441, d=346, a=1,   
        hr.ia=0.82,        
        succ.crit="clinical", clin.succ.threshold=0.80,            
        hr.exp=0.75,
        hr.prior=0.71, D.prior=133) 

</code></pre>


</div>